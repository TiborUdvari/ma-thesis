<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Processing 1.0 _ALPHA_ - replicate, translate, or decapitate?</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-15">
	<link type="text/css" href="style.css" rel="stylesheet" >
<script language="JavaScript1.2" type="text/javascript">
<!--
if ((navigator.appVersion.substring(0,1) == "5" && navigator.userAgent.indexOf('Gecko') != -1) || navigator.userAgent.search(/Opera/) != -1) {
   document.write('<META HTTP-EQUIV="pragma" CONTENT="no-cache">');
}
// -->
</script>
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#CC6600" vlink="#CC6600" alink="#CC6600" leftmargin="0" topmargin="0" rightmargin="0">
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="550" colspan="2" bgcolor="#000000"> <img src="images/processing.gif" width="500" height="50"></td>
    <td width="180" align="right" valign="top" bgcolor="#000000"> <img src="images/1pix.gif" width="100" height="5"><br>
        <a href="https://forum.processing.org/faq/index.html"><font color="#CC9900">FAQ</font></a> 
    </td>
    <td width="20" bgcolor="#000000"><img src="images/nav_topright.gif" width="20" height="50"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55" bgcolor="#996600" valign="top"><img src="images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="top" rowspan="2"> 
      <table width="675" valign="top" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td height="25" bgcolor="#996600"><a href="http://processing.org/"><font color="#FFFFFF">Cover</font></a></td>
		<td height="25" bgcolor="#996600"><div id="menu_right" style="float: right">
			<a href="http://feed.processing.org/">&raquo;Feed</a> &nbsp;
			<a href="http://forum.processing.org/">&raquo;Forum</a> &nbsp;
			<a href="http://wiki.processing.org/">&raquo;Wiki</a> &nbsp;
			<a href="http://code.google.com/p/processing">&raquo;Code</a>
		</div></td>
        </tr>

      </table>
    </td>
    <td width="20" bgcolor="#996600" valign="top"></td>
  </tr>
  <tr>
	<td height="25" colspan="3"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55"><img src="images/1pix.gif" width="1" height="25"></td>
    <td width="695"> </td>
  </tr>
  <tr>
    <td><img src="images/1pix.gif" width="55" height="1"></td>
    <td align="left" valign="top"><b>
		This is the archive Discourse for the Processing (ALPHA) software. <br />
		Please visit the <a href="http://forum.processing.org/">new Processing forum</a> for current information.
		<br />
		<br />
		</b>
	</td>
  </tr>
  <tr> 
    <td><img src="images/1pix.gif" width="55" height="45"></td>
  </tr>
</table>
<!--#echo banner=""--> 
<table width="750" align="left" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55"></td>
    <td width="695">
<script language="JavaScript1.2" src="public_html/ubbc.js" type="text/javascript"></script>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td valign=bottom colspan="2"><font class="nav"><B>
    <img src="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="index.html" class="nav">Processing 1.0 _ALPHA_</a><br>
    <img src="public_html/YaBBImages/tline.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs_action_display_num_1111574365.html#help" class="nav">Programming Questions & Help
</a><br>
    <img src="public_html/YaBBImages/tline2.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs.html" class="nav">Programs</a> </b>(Moderators: fry, REAS)<b><br>
    <img SRC="public_html/YaBBImages/tline3.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    replicate, translate, or decapitate?</b></font></td>
    <td valign="bottom" align="right">&#171; <a href="board_Programs_action_display_num_1111855802.html">Previous topic</a> | <a href="board_Programs_action_display_num_1110886846.html">Next topic</a> &#187;</td>
  </tr>
</table>
<BR>
<!-- THIS IS THE TOP HEADER OF THE CATEGORY -->
<table border="0" width="100%" cellspacing="1" cellpadding="4" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align="right">
            </td>
          </tr>
        </table>
  </tr>
</table>
<!-- THIS IS THE BOARD AUTHOR HEADER -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="1" border="0" width="100%">
      <tr>
        <td valign="middle" align="left" width="20%" bgcolor="#999966" class="titlebg">
        <font class="text1" color="#FFFFFF">&nbsp;<img src="public_html/YaBBImages/thread.gif" alt="">
        &nbsp;<b>Author</b></font></td>
        <td valign="middle" align="left" bgcolor="#999966" class="titlebg" width="80%">
        <font class="text1" color="#FFFFFF"><b>&nbsp;Topic: replicate, translate, or decapitate?</b> &nbsp;(Read 2849 times)</font></td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<a name="0"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>replicate, translate, or decapitate?</b><BR>
                &#171; <B> on:</B> Mar 23<sup>rd</sup>, 2005, 11:39am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
             <br> If there's anyone brave enough... &nbsp;<br> &nbsp;<br> I've got this continuous canvas that I've generated and am displaying using a number of replicate functions. <br> &nbsp;<br> The wrap around works fine. The problem I'm having is when I draw to this image it's origin is the top-left. I want the drawing to appear in the center of the screen. <br> &nbsp;<br> In the drawsn() method the current x and y pos can be offset against a central screen pos, but this throws the display and thus wrapping function out. <br> &nbsp;<br> Can anyone see a solution as my head is battered from looking at replicates and offsets for too long. <br> &nbsp;<br> &nbsp;<br> Many thanks. <br> &nbsp;<br> &nbsp;<br> Code: <br> &nbsp;<br> &nbsp;<br> BGraphics buf; <br> color pen; <br> &nbsp;<br> void setup() { <br> &nbsp;<br> &nbsp; size(200,200); <br> &nbsp; buf = new BGraphics(800,800); <br> &nbsp;<br> &nbsp; for(int i=0; i&lt;buf.pixels.length; i++) &nbsp;{ <br> &nbsp; &nbsp; buf.pixels[i] = 0; <br> &nbsp; } <br> &nbsp;<br> &nbsp; pen = color(255,255,255); <br> &nbsp; &nbsp;<br> &nbsp; bx = buf.width/2; <br> &nbsp; by = buf.height/2; <br> &nbsp;<br> &nbsp; buf.ellipseMode(CENTER_DIAMETER); <br> &nbsp; buf.strokeWeight(3); <br> &nbsp; <br> &nbsp; setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR)); <br> } <br> &nbsp;<br> void loop() { <br> &nbsp;<br> &nbsp; float oldbx=bx; <br> &nbsp; float oldby=by; <br> &nbsp;<br> &nbsp; updatePos(); <br> &nbsp; &nbsp;<br> &nbsp; smoothLine(buf,(int)oldbx,(int)oldby,(int)bx,(int)by,pen); <br> &nbsp; drawscn(); <br> } <br> &nbsp;<br> &nbsp;<br> &nbsp;<br> // draw large Bimage to screen as a continuous surface. <br> int x1,y1,x2,y2,x3,y3; <br> &nbsp;<br> void drawscn() { <br> &nbsp; <br> &nbsp; x3=(int)bx; // -width/2 <br> &nbsp; y3=(int)by; // -height/2 these will draw to center &nbsp;<br> &nbsp;<br> &nbsp; x1=abs(buf.width-x3); <br> &nbsp; x2=abs(width-x1); <br> &nbsp; y1=abs(buf.height-y3); <br> &nbsp; y2=abs(height-y1); <br> &nbsp;<br> &nbsp;<br> &nbsp; if(x3&gt;buf.width-width) { <br> &nbsp; &nbsp; replicate(buf,0,y3,x2,y3+y1,x1,0,x1+x2,y1); <br> &nbsp;<br> &nbsp; &nbsp; if(y3&gt;buf.height-height) { <br> &nbsp;replicate(buf,0,0,x2,y2,x1,y1,x1+x2,y1+y2); <br> &nbsp; &nbsp; } <br> &nbsp; } <br> &nbsp;<br> &nbsp; if(y3&gt;buf.height-height) { <br> &nbsp; &nbsp; replicate(buf,x3,0,x3+x1,y2,0,y1,x1,y1+y2); <br> &nbsp; } <br> &nbsp;<br> &nbsp; replicate(buf,x3,y3,x3+x1,y3+y1,0,0,x1,y1); <br> } <br> &nbsp;<br> float bx,by; <br> float xmag, ymag = 0; <br> &nbsp;<br> void updatePos() { <br> &nbsp;<br> &nbsp; float xlim = buf.width; <br> &nbsp; float ylim = buf.height; <br> &nbsp;<br> &nbsp; xmag = (pmouseX-width/2)*0.030; <br> &nbsp; ymag = (pmouseY-height/2)*0.030; <br> &nbsp;<br> &nbsp; if(xmag&lt;= 0) { <br> &nbsp; &nbsp; bx= (bx-xmag) % xlim; <br> &nbsp; } <br> &nbsp;<br> &nbsp; else if(xmag&gt;0) <br> &nbsp; { <br> &nbsp; &nbsp; // decrement <br> &nbsp; &nbsp; bx = xlim - bx; <br> &nbsp; &nbsp; bx = (bx+xmag) % xlim; <br> &nbsp; &nbsp; bx = xlim-bx; <br> &nbsp; } <br> &nbsp;<br> &nbsp; if(ymag&lt;= 0) { <br> &nbsp; &nbsp; by= (by-ymag) % ylim; <br> &nbsp; } <br> &nbsp;<br> &nbsp; else if(ymag&gt;0) <br> &nbsp; { <br> &nbsp; &nbsp; // decrement <br> &nbsp; &nbsp; by = ylim - by; <br> &nbsp; &nbsp; by = (by+ymag) % ylim; <br> &nbsp; &nbsp; by = ylim - by; <br> &nbsp; } <br> &nbsp;<br> } <br> &nbsp;<br> &nbsp;<br> &nbsp;<br> public void smoothLine(BGraphics g, int x1, int y1, int x2, int y2, color pen) { <br> &nbsp; g.stroke(this.pen); &nbsp; &nbsp; &nbsp;// Stroke on @ set weight <br> &nbsp; g.line(x1,y1,x2,y2); &nbsp; &nbsp; // draw the line &nbsp;<br> &nbsp; if(g.strokeWeight&gt;1) { <br> &nbsp; &nbsp; g.noStroke(); &nbsp;// strokeweight&gt;1 causes strange behaviour so noStroke to be safe, probably quicker, too. <br> &nbsp; &nbsp; g.ellipse(x1, y1, g.strokeWeight*2,g.strokeWeight*2); &nbsp;// cap previous line with rounded end <br> &nbsp; } <br> } &nbsp;<br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="1"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Quasimondo</b><br><BR>
             <a href="http://incubator.quasimondo.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #1 on:</B> Mar 23<sup>rd</sup>, 2005, 6:09pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Replace your line &nbsp;<br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1">smoothLine&#40;buf,&#40;int&#41;oldbx,&#40;int&#41;oldby,&#40;int&#41;bx,&#40;int&#41;by,pen&#41;&#059;  </font></td></tr></table></td></tr></table> <br> &nbsp;<br> with this: <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1">smoothLine&#40;buf,&#40;&#40;int&#41;oldbx+width&#47;2&#41;%800,&#40;&#40;int&#41;oldby+height&#47;2&#41;%800,&#40;&#40;int&#41;bx+width&#47;2&#41;%800,&#40;&#40;int&#41;by+height&#47;2&#41;%800,pen&#41;&#059;  </font></td></tr></table></td></tr></table> <br> &nbsp;<br> &nbsp;<br> Note: you will still need to do something at the edges - if oldbx is on the left and bx is on the right it will draw a straight line through the whole canvas. Same with oldby/by <br> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 23<sup>rd</sup>, 2005, 6:12pm by Quasimondo</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">Mario Klingemann | <a href="http://quasimondo.com" target="_blank">Quasimondo</a> | <a href="http://incubator.quasimondo.com" target="_blank">Incubator</a> | <a href="http://codeazur.com" target="_blank">côdeazur</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="2"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #2 on:</B> Mar 23<sup>rd</sup>, 2005, 8:52pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Thanks a lot Mario, <br> &nbsp;<br> That saved me a headache. I'd tried the offset but not accounted for the additional %. <br> &nbsp;<br> Yeah, I know about the line through the entire BImage as a result of the wrap around, I just wanted to iron out the other problem first. &nbsp;<br> &nbsp;<br> oldbx and bx can never be further apart than the scroll rate so I'll put a test in for that and account for the %800 - 0 wrap, too! <br> &nbsp;<br> You're a good'un. 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 23<sup>rd</sup>, 2005, 8:56pm by Mark Hill</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="3"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #3 on:</B> Mar 24<sup>th</sup>, 2005, 12:37am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Nope! I've scratched my head and a few other places besides, and although I can deal with the wrap problem using the distance between the old and new positions. I'm still stuffed for continuing the line across the divides. <br> &nbsp;<br> I've written a new loop (below) that isolates the areas around the overlaps in relation to the strokeWeight, but I'm buggered if I can work out what the additional draw function needs to be to maintain continuity... <br> &nbsp;<br> Perhaps it's only possible with a line of a single width because of how the line draw and ellipse methods work. <br> &nbsp;<br> Any help very much appreciated. <br> &nbsp;<br> P.S How do I highlight code extracts as appears in other posts? <br> &nbsp;<br> &nbsp;<br> &nbsp;<br> void loop() { <br> &nbsp;<br> &nbsp; background(255,0,0); <br> &nbsp;  <br> &nbsp; oldbx=((int)bx+width/2)%buf.width; <br> &nbsp; oldby=((int)by+height/2)%buf.height; <br> &nbsp;<br> &nbsp; updatePos(); <br> &nbsp;  <br> &nbsp; curbx =((int)bx+width/2)%buf.width; <br> &nbsp; curby =((int)by+height/2)%buf.height; <br> &nbsp;  <br> &nbsp; // Check that both coords are on the same side of the line <br> &nbsp; if(abs( oldbx - curbx) &lt; buf.width/2 &nbsp;<br> &nbsp;   &amp;&amp; abs( oldby - curby) &lt; buf.height/2) { &nbsp;<br> &nbsp;    <br> &nbsp;   smoothLine(buf,oldbx, oldby, curbx, curby, pen);   &nbsp;<br> &nbsp; } <br> &nbsp;  <br> &nbsp;  // are we in the cross over area? <br> &nbsp;  if(curbx&gt;buf.width-buf.strokeWeight &#124; curbx&lt;0+buf.strokeWeight) { <br> &nbsp;    <br> &nbsp;    println(xlim-curbx); // gives the opposite of where you currently are. <br> &nbsp;   } <br> &nbsp; <br> &nbsp; <br> &nbsp; // are we in the cross over area? <br> &nbsp;  if(curby&gt;buf.height-buf.strokeWeight &#124; curby&lt;0+buf.strokeWeight) { <br> &nbsp;    <br> &nbsp;    println(ylim-curby); // gives the opposite of where you currently are. <br> &nbsp;   } <br> &nbsp;    <br> &nbsp; drawscn(); <br> } <br> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 24<sup>th</sup>, 2005, 11:22am by Mark Hill</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="4"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>Quasimondo</b><br><BR>
             <a href="http://incubator.quasimondo.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #4 on:</B> Mar 24<sup>th</sup>, 2005, 1:38pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            I guess what you will have to do if a line crosses an edge is to split that line in two parts - aka draw two lines: one from the old position to the edge and one from the opposite edge to the new position. <br> &nbsp;<br> In the end I think that you could make it all easier for yourself by wrapping the whole canvas each time instead of wrapping the screen and then always draw your point at the middle of the canvas. <br> &nbsp;<br> To highlight code, wrap it into &nbsp;<br> &nbsp;<br> (code)your code here(/code) <br> &nbsp;<br> but use square brackets, not round ones (I don't know how to demostrate it properly) <br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">Mario Klingemann | <a href="http://quasimondo.com" target="_blank">Quasimondo</a> | <a href="http://incubator.quasimondo.com" target="_blank">Incubator</a> | <a href="http://codeazur.com" target="_blank">côdeazur</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="5"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #5 on:</B> Mar 24<sup>th</sup>, 2005, 3:05pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
             <br> Thanks for the suggestion, Mario. <br> &nbsp;<br> I'm not sure I follow. Wrapping the whole canvas is going to require a large blit. I know I can break this down over a number of frames, but I'm still not sure I follow you. <br> &nbsp;<br> I've messed about with the existing drawing functions around the edges but I'm not sure I can maintain a thick line on a wrap. <br> &nbsp;<br> Would you elaborate a little on what you mean by the whole canvas being wrapped. <br> &nbsp;<br> Cheers 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="6"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>Quasimondo</b><br><BR>
             <a href="http://incubator.quasimondo.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #6 on:</B> Mar 24<sup>th</sup>, 2005, 7:45pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Yes - I thought about making a huge blit - I didn't try though, so it might be a too big performance hit. 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">Mario Klingemann | <a href="http://quasimondo.com" target="_blank">Quasimondo</a> | <a href="http://incubator.quasimondo.com" target="_blank">Incubator</a> | <a href="http://codeazur.com" target="_blank">côdeazur</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="7"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Quasimondo</b><br><BR>
             <a href="http://incubator.quasimondo.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #7 on:</B> Mar 24<sup>th</sup>, 2005, 8:19pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Okay, I tried something else: if a line gets drawn over the edge - let it draw over the edge - but do it twice. This makes it necessary to keep the information that we lost by using the %800 operator. <br> &nbsp;<br> (I kicked some parts of your replication code out..) <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> &nbsp;<br> BGraphics buf; &nbsp;<br> color pen; &nbsp;<br> &nbsp; <br> void setup&#40;&#41; { &nbsp;<br> &nbsp; <br> &nbsp; size&#40;200,200&#41;; &nbsp;<br> &nbsp; buf = new BGraphics&#40;800,800&#41;; &nbsp;<br> &nbsp; <br> &nbsp; for&#40;int i=0; i&lt;buf&#46;pixels&#46;length; i++&#41;  { &nbsp;<br> &nbsp;   buf&#46;pixels&#91;i&#93; = 0; &nbsp;<br> &nbsp; } &nbsp;<br> &nbsp; <br> &nbsp; pen = color&#40;255,255,255&#41;; &nbsp;<br> &nbsp;  &nbsp;<br> &nbsp; bx = buf&#46;width&#47;2; &nbsp;<br> &nbsp; by = buf&#46;height&#47;2; &nbsp;<br> &nbsp; <br> &nbsp; buf&#46;ellipseMode&#40;CENTER_DIAMETER&#41;; &nbsp;<br> &nbsp; buf&#46;strokeWeight&#40;3&#41;; &nbsp;<br> &nbsp;  <br> &nbsp; setCursor&#40;Cursor&#46;getPredefinedCursor&#40;Cursor&#46;CROSSHAIR_CURSOR&#41;&#41;; &nbsp;<br> } &nbsp;<br> &nbsp; <br> void loop&#40;&#41; { &nbsp;<br> &nbsp; <br> &nbsp; float oldbx=bx; &nbsp;<br> &nbsp; float oldby=by; &nbsp;<br> &nbsp; updatePos&#40;&#41;; &nbsp;<br> &nbsp; smoothLine&#40;buf,&#40;&#40;int&#41;oldbx+width&#47;2&#41;,&#40;&#40;int&#41;oldby+height&#47;2&#41;,&#40;&#40;int&#41;bx+widt h&#47;2&#41;,&#40;&#40;int&#41;by+height&#47;2&#41;,pen&#41;; &nbsp;<br> &nbsp; bx=&#40;bx+buf&#46;width&#41;%buf&#46;width; <br> &nbsp; by=&#40;by+buf&#46;height&#41;%buf&#46;height; <br> &nbsp; drawscn&#40;&#41;; &nbsp;<br> } &nbsp;<br> &nbsp; <br> &nbsp; <br> &nbsp; <br> &#47;&#47; draw large Bimage to screen as a continuous surface&#46; &nbsp;<br> int x1,y1,x2,y2,x3,y3; &nbsp;<br> &nbsp; <br> void drawscn&#40;&#41; { &nbsp;<br> &nbsp;  <br> &nbsp; x3=&#40;&#40;&#40;int&#41;bx%buf&#46;width&#41;+buf&#46;width&#41;%buf&#46;width; <br> &nbsp; y3=&#40;&#40;&#40;int&#41;by%buf&#46;height&#41;+buf&#46;height&#41;%buf&#46;height; <br> &nbsp; <br> &nbsp; x1=abs&#40;buf&#46;width&#45;x3&#41;; &nbsp;<br> &nbsp; x2=abs&#40;width&#45;x1&#41;; &nbsp;<br> &nbsp; y1=abs&#40;buf&#46;height&#45;y3&#41;; &nbsp;<br> &nbsp; y2=abs&#40;height&#45;y1&#41;; &nbsp;<br> &nbsp; <br> &nbsp; <br> &nbsp; if&#40;x3&gt;buf&#46;width&#45;width&#41; { &nbsp;<br> &nbsp;   replicate&#40;buf,0,y3,x2,y3+y1,x1,0,x1+x2,y1&#41;; &nbsp;<br> &nbsp; <br> &nbsp;   if&#40;y3&gt;buf&#46;height&#45;height&#41; { &nbsp;<br> &nbsp;replicate&#40;buf,0,0,x2,y2,x1,y1,x1+x2,y1+y2&#41;; &nbsp;<br> &nbsp;   } &nbsp;<br> &nbsp; } &nbsp;<br> &nbsp; <br> &nbsp; if&#40;y3&gt;buf&#46;height&#45;height&#41; { &nbsp;<br> &nbsp;   replicate&#40;buf,x3,0,x3+x1,y2,0,y1,x1,y1+y2&#41;; &nbsp;<br> &nbsp; } &nbsp;<br> &nbsp; <br> &nbsp; replicate&#40;buf,x3,y3,x3+x1,y3+y1,0,0,x1,y1&#41;; &nbsp;<br> } &nbsp;<br> &nbsp; <br> float bx,by; &nbsp;<br> float xmag, ymag = 0; &nbsp;<br> &nbsp; <br> void updatePos&#40;&#41; { &nbsp;<br> &nbsp; xmag = &#40;pmouseX&#45;width&#47;2&#41;*0&#46;030; &nbsp;<br> &nbsp; ymag = &#40;pmouseY&#45;height&#47;2&#41;*0&#46;030; &nbsp;<br> &nbsp; bx+=xmag; <br> &nbsp; by+=ymag; <br> } &nbsp;<br> &nbsp; <br> &nbsp; <br> &nbsp; <br> public void smoothLine&#40;BGraphics g, int x1, int y1, int x2, int y2, color pen&#41; { &nbsp;<br> &nbsp; g&#46;stroke&#40;this&#46;pen&#41;;      &#47;&#47; Stroke on @ set weight &nbsp;<br> &nbsp; g&#46;line&#40;x1,y1,x2,y2&#41;;     &#47;&#47; draw the line   <br> &nbsp;  <br> &nbsp; if&#40;g&#46;strokeWeight&gt;1&#41; { &nbsp;<br> &nbsp;   g&#46;noStroke&#40;&#41;;  &#47;&#47; strokeweight&gt;1 causes strange behaviour so noStroke to be safe, probably quicker, too&#46; &nbsp;<br> &nbsp;   g&#46;ellipse&#40;x1, y1, g&#46;strokeWeight*2,g&#46;strokeWeight*2&#41;;  &#47;&#47; cap previous line with rounded end &nbsp;<br> &nbsp; } &nbsp;<br> &nbsp;  <br> &nbsp; boolean drawagain=false; <br> &nbsp; if &#40;x1&lt;0&#41;{ <br> &nbsp;   x1+=buf&#46;width; <br> &nbsp;   x2+=buf&#46;width; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;x1&gt;buf&#46;width&#41;{ <br> &nbsp;   x1&#45;=buf&#46;width; <br> &nbsp;   x2&#45;=buf&#46;width; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;x2&lt;0&#41;{ <br> &nbsp;   x1+=buf&#46;width; <br> &nbsp;   x2+=buf&#46;width; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;x2&gt;buf&#46;width&#41;{ <br> &nbsp;   x1&#45;=800; <br> &nbsp;   x2&#45;=800; <br> &nbsp;   drawagain=true;   <br> &nbsp; } <br> &nbsp;  <br> &nbsp; if &#40;y1&lt;0&#41;{ <br> &nbsp;   y1+=buf&#46;height; <br> &nbsp;   y2+=buf&#46;height; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;y1&gt;buf&#46;height&#41;{ <br> &nbsp;   y1&#45;=buf&#46;height; <br> &nbsp;   y2&#45;=buf&#46;height; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;y2&lt;0&#41;{ <br> &nbsp;   y1+=buf&#46;height; <br> &nbsp;   y2+=buf&#46;height; <br> &nbsp;   drawagain=true;   <br> &nbsp; } else if &#40;y2&gt;buf&#46;height&#41;{ <br> &nbsp;   y1&#45;=buf&#46;height; <br> &nbsp;   y2&#45;=buf&#46;height; <br> &nbsp;   drawagain=true;   <br> &nbsp; } <br> &nbsp; if &#40;drawagain&#41;{ <br> &nbsp;   g&#46;line&#40;x1,y1,x2,y2&#41;;   &nbsp;<br> &nbsp;   if&#40;g&#46;strokeWeight&gt;1&#41; { &nbsp;<br> &nbsp;     g&#46;noStroke&#40;&#41;;  &#47;&#47; strokeweight&gt;1 causes strange behaviour so noStroke to be safe, probably quicker, too&#46; &nbsp;<br> &nbsp;     g&#46;ellipse&#40;x1, y1, g&#46;strokeWeight*2,g&#46;strokeWeight*2&#41;;  &#47;&#47; cap previous line with rounded end &nbsp;<br> &nbsp;     g&#46;ellipse&#40;x2, y2, g&#46;strokeWeight*2,g&#46;strokeWeight*2&#41;;  &#47;&#47; cap previous line with rounded end &nbsp;<br> &nbsp;   }   &nbsp;<br> &nbsp; } <br> &nbsp; <br> &nbsp;  <br> }   <br> &nbsp;<br>  </font></td></tr></table></td></tr></table> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 24<sup>th</sup>, 2005, 8:21pm by Quasimondo</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">Mario Klingemann | <a href="http://quasimondo.com" target="_blank">Quasimondo</a> | <a href="http://incubator.quasimondo.com" target="_blank">Incubator</a> | <a href="http://codeazur.com" target="_blank">côdeazur</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="8"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #8 on:</B> Mar 25<sup>th</sup>, 2005, 1:21am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            It's a very neat solution and does a terrific job, but... when you make the crossover between wraps at angles of incidence like &nbsp; \&#124; &nbsp; that, it runs into problems like half-printing a line as you run down the seam of the wrap . I've messed about with a strokeWeight compensation but to no avail. <br> &nbsp;<br> My next thought is: why not draw the line to the visible screen and backward blit to the buf as a sprite, so effectively we end up with: <br> &nbsp;<br> replicate buffer to screen - draw line - replicate screen to buffer   <br> &nbsp;<br> I know it's crude, but I'm gonna give it a go, as I can see the strokeWeight problem persisting, although I may be wrong...? This way the draw function is out of the way, and only confined to a small area requiring backwards duplication, making the wrapping problem as straightforward as the buffer to screen blit. <br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 25<sup>th</sup>, 2005, 12:31pm by Mark Hill</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="9"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Mark Hill</b><br><BR>
             <a href="http://mark-hill.co.uk" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: replicate, translate, or decapitate?</b><BR>
                &#171; <B>Reply #9 on:</B> Mar 25<sup>th</sup>, 2005, 8:03pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Here it is at last! I ended up doing as I suggested in my last post and performed blit from the buffer to the screen according to the current position, drew a line at the center of the screen and then blitted a rectangular portion of 20*20 (ish) screen pixels back to the buffer; essentially combining screen and buffer info. <br> &nbsp;<br> This eliminates any need for tricky drawing functions across seams. It screws the smooth(); function, however and that poses another problem. <br> &nbsp;<br> Thanks for all the help Mario. Much appreciated! <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> &nbsp;<br> &nbsp;<br> BGraphics buf; <br> color pen; <br> &nbsp;<br> int backSize = 20; <br> &nbsp;<br> void setup&#40;&#41; { <br> &nbsp;<br> &nbsp; size&#40;200,200&#41;; <br> &nbsp; buf = new BGraphics&#40;800,800&#41;; <br> &nbsp; buf&#46;background&#40;26,26,0&#41;; <br> &nbsp;<br> &nbsp; pen = color&#40;255,255,255&#41;; <br> &nbsp;<br> &nbsp; bx = buf&#46;width&#47;2&#45;width; <br> &nbsp; by = buf&#46;height&#47;2&#45;height; <br> &nbsp;<br> &nbsp; ellipseMode&#40;CENTER_DIAMETER&#41;; <br> &nbsp; strokeWeight&#40;4&#41;; <br> &nbsp; blitX = width&#47;2&#45;backSize&#47;2; <br> &nbsp; blitY = height&#47;2&#45;backSize&#47;2; <br> &nbsp;  <br> &nbsp; noSmooth&#40;&#41;; <br> &nbsp;<br> &nbsp; setCursor&#40;Cursor&#46;getPredefinedCursor&#40;Cursor&#46;CROSSHAIR_CURSOR&#41;&#41;; <br> } <br> &nbsp;<br> void loop&#40;&#41; { <br> &nbsp;<br> &nbsp; updatePos&#40;&#41;; <br> &nbsp;<br> &nbsp; &#47;&#47; Blit buffer to screen, draw line and blit back modified section to buffer <br> &nbsp; drawscn&#40;&#41;; <br> &nbsp; smoothLine&#40;g,width&#47;2,height&#47;2,width&#47;2+&#40;int&#41;xmag,height&#47;2+&#40;int&#41;ymag,pen&#41; ; <br> &nbsp; backBlit&#40;&#41;; <br> &nbsp;  <br> &nbsp;<br> } <br> &nbsp;<br> int blitX,blitY; <br> &nbsp;<br> void backBlit&#40;&#41; { <br> &nbsp;<br> &nbsp; x3=&#40;&#40;&#40;int&#41;bx%buf&#46;width&#41;+buf&#46;width+blitX&#41;%buf&#46;width; <br> &nbsp; y3=&#40;&#40;&#40;int&#41;by%buf&#46;height&#41;+buf&#46;height+blitX&#41;%buf&#46;height; <br> &nbsp;<br> &nbsp; x1 = abs&#40;buf&#46;width&#45;x3&#41;; <br> &nbsp; x2 = abs&#40;x1&#45;backSize&#41;; <br> &nbsp; y1 = abs&#40;buf&#46;height&#45;y3&#41;; <br> &nbsp; y2 = abs&#40;y1&#45;backSize&#41;; <br> &nbsp;<br> &nbsp; &#47;&#47; blit X wrap around <br> &nbsp; if&#40;x3&gt;=buf&#46;width&#45;backSize&#41; { <br> &nbsp;   buf&#46;replicate&#40;g,blitX+x1,blitY,blitX+x2+x1,blitY+backSize, 0,y3,x2,y3+backSize&#41;; <br> &nbsp;<br> &nbsp;   &#47;&#47; blit X and Y wrap <br> &nbsp;   if&#40;y3&gt;=buf&#46;height&#45;backSize&#41; { <br> &nbsp;     buf&#46;replicate&#40;g,blitX+x1,blitY+y1,blitX+x2+x1,blitY+y2+y1, 0,0,x2,y2&#41;; <br> &nbsp;   } <br> &nbsp; } <br> &nbsp;<br> &nbsp; if&#40;y3&gt;=buf&#46;height&#45;backSize&#41; { <br> &nbsp;   buf&#46;replicate&#40;g,blitX,blitY+y1,blitX+backSize,blitY+y1+y2, x3,0,x3+backSize,y2&#41;; <br> &nbsp; } <br> &nbsp;<br> &nbsp; buf&#46;replicate&#40;g,blitX,blitY,blitX+backSize,blitY+backSize, x3,y3,x3+backSize,y3+backSize&#41;; <br> } <br> &nbsp;<br> &#47;&#47; draw large Bimage to screen as a continuous surface&#46; <br> int x1,y1,x2,y2,x3,y3; <br> &nbsp;<br> void drawscn&#40;&#41; { <br> &nbsp;<br> &nbsp; x3=&#40;&#40;&#40;int&#41;bx%buf&#46;width&#41;+buf&#46;width&#41;%buf&#46;width; <br> &nbsp; y3=&#40;&#40;&#40;int&#41;by%buf&#46;height&#41;+buf&#46;height&#41;%buf&#46;height; <br> &nbsp;<br> &nbsp; x1=abs&#40;buf&#46;width&#45;x3&#41;; <br> &nbsp; x2=abs&#40;width&#45;x1&#41;; <br> &nbsp; y1=abs&#40;buf&#46;height&#45;y3&#41;; <br> &nbsp; y2=abs&#40;height&#45;y1&#41;; <br> &nbsp;<br> &nbsp; &#47;&#47; blit X wrap around <br> &nbsp; if&#40;x3&gt;=buf&#46;width&#45;width&#41; { <br> &nbsp;   replicate&#40;buf,0,y3,x2,y3+y1, x1,0,x1+x2,y1&#41;; <br> &nbsp;<br> &nbsp;   &#47;&#47; blit X and Y wrap <br> &nbsp;   if&#40;y3&gt;=buf&#46;height&#45;height&#41; { <br> &nbsp;     replicate&#40;buf,0,0,x2,y2,x1, y1,x1+x2,y1+y2&#41;; <br> &nbsp;   } <br> &nbsp; } <br> &nbsp;<br> &nbsp; if&#40;y3&gt;=buf&#46;height&#45;height&#41; { <br> &nbsp;   replicate&#40;buf,x3,0,x3+x1,y2, 0,y1,x1,y1+y2&#41;; <br> &nbsp; } <br> &nbsp;<br> &nbsp; replicate&#40;buf,x3,y3,x3+x1,y3+y1, 0,0,x1,y1&#41;; <br> } <br> &nbsp;<br> float bx,by; <br> float xmag, ymag = 0; <br> &nbsp;<br> void updatePos&#40;&#41; { <br> &nbsp; xmag = &#40;pmouseX&#45;width&#47;2&#41;*0&#46;030; <br> &nbsp; ymag = &#40;pmouseY&#45;height&#47;2&#41;*0&#46;030; <br> &nbsp; bx = &#40;bx+xmag&#41;%buf&#46;width; <br> &nbsp; by = &#40;by+ymag&#41;%buf&#46;height; <br> } <br> &nbsp;<br> public void smoothLine&#40;BGraphics g, int x1, int y1, int x2, int y2, color penCol&#41; { <br> &nbsp; g&#46;stroke&#40;penCol&#41;;      &#47;&#47; Stroke on @ set weight <br> &nbsp; g&#46;line&#40;x1,y1,x2,y2&#41;;     &#47;&#47; draw the line <br> &nbsp;<br> &nbsp; if&#40;g&#46;strokeWeight&gt;1&#41; { <br> &nbsp;   g&#46;noStroke&#40;&#41;;  &#47;&#47; strokeweight&gt;1 causes strange behaviour, so noStroke to be safe, probably quicker, too&#46; <br> &nbsp;   g&#46;ellipse&#40;x1, y1, g&#46;strokeWeight*2,g&#46;strokeWeight*2&#41;;  &#47;&#47; cap previous line with rounded end <br> &nbsp; } <br> } <br> &nbsp;<br>  </font></td></tr></table></td></tr></table> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Mar 25<sup>th</sup>, 2005, 8:04pm by Mark Hill</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<!-- THIS IS THE BOTTOM HEADER -->
<table border=0 width="100%" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
    <td>
    <table cellpadding="4" cellspacing="1" border="0" width="100%">
      <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align=right>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table><br>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td align="left" valign="top" colspan="2">
    </td>
    <td valign="top" height="18" align="right">
<form method="post" action="board_Programs_action_display_num_1111574365.html" name="jump">
<select name="values" onChange="if(this.options[this.selectedIndex].value) window.location.href="index.html" + this.options[this.selectedIndex].value;">
<option value="">Forum Jump:</option>
<option value="">-----------------------------</option>
<option value="#Discuss">Discussion</option>
<option value="">-----------------------------</option><option value="?board=Collaboration">&nbsp; - Community, Collaboration, Status</option>
<option value="?board=Events">&nbsp; - Events, Publications, Propaganda</option>
<option value="?board=general">&nbsp; - General Processing Discussion</option>
<option value="">-----------------------------</option>
<option value="#help">Programming Questions & Help</option>
<option value="">-----------------------------</option><option value="?board=Syntax">&nbsp; - Syntax</option>
<option selected value="?board=Programs">=> Programs</option>
<option value="?board=Integrate">&nbsp; - Integration</option>
<option value="">-----------------------------</option>
<option value="#Examples">Topics & Contributions</option>
<option value="">-----------------------------</option><option value="?board=Tools">&nbsp; - Tools</option>
<option value="?board=Contribution_Responsive">&nbsp; - Responsive Form, Games</option>
<option value="?board=Contribution_Info">&nbsp; - Information Visualization</option>
<option value="?board=Contribution_Simlation">&nbsp; - Simulation, Artificial Life</option>
<option value="?board=Contribution_Physical">&nbsp; - Tangible Computing</option>
<option value="?board=Contribution_Automated">&nbsp; - Automated Systems</option>
<option value="?board=Contributions_Audiovisual">&nbsp; - Sound</option>
<option value="?board=VideoCamera">&nbsp; - Video, Camera</option>
<option value="?board=Contributions_Beyond">&nbsp; - Beyond Categories</option>
<option value="">-----------------------------</option>
<option value="#Suggestions">Suggestions</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_Software">&nbsp; - Software Suggestions</option>
<option value="?board=proce55ing_website">&nbsp; - Website, Reference, Example Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Bugs">Bugs</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_software_bugs">&nbsp; - Software Bugs</option>
<option value="?board=Proce55ing_website_bugs">&nbsp; - Website, Reference, Example Bugs</option>
<option value="?board=BugFixes">&nbsp; - Bug Fixes, Implemented Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Teaching">Teaching</option>
<option value="">-----------------------------</option><option value="?board=CourseBlueprints">&nbsp; - Course Blueprints</option>
<option value="?board=TheoryandPractice">&nbsp; - Theory and Practice</option>
</select>
</form></td>
  </tr><tr>
    <td colspan="3" valign="top" align="right">&#171; <a href="board_Programs_action_display_num_1111855802.html">Previous topic</a> | <a href="board_Programs_action_display_num_1110886846.html">Next topic</a> &#187;</td>
  </tr>
</table>
</td>
  </tr>
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55" height="160"></td>
    <td width="695" valign="bottom"><style type="text/css">/*
<a href="index.html"><font size="1">Processing 1.0 _ALPHA_</font></a> &#187; <font size="1">Powered by</font> <a href="http://www.yabbforum.com"><font size="1">YaBB 1 Gold - SP 1.1</font></a><font size="1">!<BR>
YaBB © 2000-2002, </font><a href="http://www.xnull.com"><font size="1">Xnull</font></a><font size="1">. All Rights Reserved.</font>
*/</style></td>
  </tr>
</table>
</body>
</html>
