<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Processing 1.0 _ALPHA_ - color proportions</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-15">
	<link type="text/css" href="style.css" rel="stylesheet" >
<script language="JavaScript1.2" type="text/javascript">
<!--
if ((navigator.appVersion.substring(0,1) == "5" && navigator.userAgent.indexOf('Gecko') != -1) || navigator.userAgent.search(/Opera/) != -1) {
   document.write('<META HTTP-EQUIV="pragma" CONTENT="no-cache">');
}
// -->
</script>
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#CC6600" vlink="#CC6600" alink="#CC6600" leftmargin="0" topmargin="0" rightmargin="0">
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="550" colspan="2" bgcolor="#000000"> <img src="images/processing.gif" width="500" height="50"></td>
    <td width="180" align="right" valign="top" bgcolor="#000000"> <img src="images/1pix.gif" width="100" height="5"><br>
        <a href="https://forum.processing.org/faq/index.html"><font color="#CC9900">FAQ</font></a> 
    </td>
    <td width="20" bgcolor="#000000"><img src="images/nav_topright.gif" width="20" height="50"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55" bgcolor="#996600" valign="top"><img src="images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="top" rowspan="2"> 
      <table width="675" valign="top" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td height="25" bgcolor="#996600"><a href="http://processing.org/"><font color="#FFFFFF">Cover</font></a></td>
		<td height="25" bgcolor="#996600"><div id="menu_right" style="float: right">
			<a href="http://feed.processing.org/">&raquo;Feed</a> &nbsp;
			<a href="http://forum.processing.org/">&raquo;Forum</a> &nbsp;
			<a href="http://wiki.processing.org/">&raquo;Wiki</a> &nbsp;
			<a href="http://code.google.com/p/processing">&raquo;Code</a>
		</div></td>
        </tr>

      </table>
    </td>
    <td width="20" bgcolor="#996600" valign="top"></td>
  </tr>
  <tr>
	<td height="25" colspan="3"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55"><img src="images/1pix.gif" width="1" height="25"></td>
    <td width="695"> </td>
  </tr>
  <tr>
    <td><img src="images/1pix.gif" width="55" height="1"></td>
    <td align="left" valign="top"><b>
		This is the archive Discourse for the Processing (ALPHA) software. <br />
		Please visit the <a href="http://forum.processing.org/">new Processing forum</a> for current information.
		<br />
		<br />
		</b>
	</td>
  </tr>
  <tr> 
    <td><img src="images/1pix.gif" width="55" height="45"></td>
  </tr>
</table>
<!--#echo banner=""--> 
<table width="750" align="left" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55"></td>
    <td width="695">
<script language="JavaScript1.2" src="public_html/ubbc.js" type="text/javascript"></script>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td valign=bottom colspan="2"><font class="nav"><B>
    <img src="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="index.html" class="nav">Processing 1.0 _ALPHA_</a><br>
    <img src="public_html/YaBBImages/tline.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs_action_display_num_1086857409.html#help" class="nav">Programming Questions & Help
</a><br>
    <img src="public_html/YaBBImages/tline2.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs.html" class="nav">Programs</a> </b>(Moderators: fry, REAS)<b><br>
    <img SRC="public_html/YaBBImages/tline3.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    color proportions</b></font></td>
    <td valign="bottom" align="right">&#171; <a href="board_Programs_action_display_num_1087600927.html">Previous topic</a> | <a href="board_Programs_action_display_num_1087083922.html">Next topic</a> &#187;</td>
  </tr>
</table>
<BR>
<!-- THIS IS THE TOP HEADER OF THE CATEGORY -->
<table border="0" width="100%" cellspacing="1" cellpadding="4" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align="right">
            </td>
          </tr>
        </table>
  </tr>
</table>
<!-- THIS IS THE BOARD AUTHOR HEADER -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="1" border="0" width="100%">
      <tr>
        <td valign="middle" align="left" width="20%" bgcolor="#999966" class="titlebg">
        <font class="text1" color="#FFFFFF">&nbsp;<img src="public_html/YaBBImages/thread.gif" alt="">
        &nbsp;<b>Author</b></font></td>
        <td valign="middle" align="left" bgcolor="#999966" class="titlebg" width="80%">
        <font class="text1" color="#FFFFFF"><b>&nbsp;Topic: color proportions</b> &nbsp;(Read 650 times)</font></td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<a name="0"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>color proportions</b><BR>
                &#171; <B> on:</B> Jun 10<sup>th</sup>, 2004, 10:50am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            hey all, <br> &nbsp;<br> this is my first post and i allready have two problems for you guys to solve. <br> &nbsp;<br> problem.1 <br> i have a bitmap picture and want to generate a list of the color proportions e.g. know that the picture is built with 2.37 % rgb(120, 200, 173), 1.71% rgb(15, 34, 177) and so on. <br> i guess the first task is to generate a list of all the pixels and their rgb/hsb-values contained in the bitmap, then sort that list to get all the color proportions. <br> may it be, that the 'image : extrusion' example from the 'learning' pages may lead me toward the right solution? <br> &nbsp;<br> problem.2 <br> i'm quite new to proce55ing. i got the basics, but i guess everything i should know to solve problem.1 &nbsp;i'm lacking (arrays?). <br> &nbsp;<br> has anyone given any thought on this subject? i'd truly appreciate any input. <br> &nbsp;<br> thx, <br> greg 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="1"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>Markavian</b><br><BR><a href="aim:goim?screenname=Markavian+iTX&message=Hi.+Are+you+there?"><img src="public_html/YaBBImages/aim.gif" alt="Markavian+iTX" border="0"></a>
     <a href="http://mkv25.net/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #1 on:</B> Jun 10<sup>th</sup>, 2004, 2:56pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Hi dek, <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> &#47;&#47; Colour Proportions <br> &#47;&#47; Read image in, calculate percentage of Red, Green and Blue <br> &#47;&#47; Display as traced output <br> &nbsp;<br> &nbsp;<br> float total_red = 0; <br> float total_blue = 0; <br> float total_green = 0; <br> &nbsp;<br> BImage b; &nbsp;<br> b = loadImage&#40;&quot;stripes&#46;gif&quot;&#41;; &nbsp;<br> &nbsp;<br> size&#40;b&#46;height, b&#46;width&#41;; <br> image&#40;b, 0, 0&#41;; <br> &nbsp;<br> for&#40;int i=0; i&lt;b&#46;height*b&#46;width; i++&#41; { <br> &nbsp; color c = b&#46;pixels&#91;i&#93;; <br> &nbsp; total_red += red&#40;c&#41;; <br> &nbsp; total_blue += blue&#40;c&#41;; <br> &nbsp; total_green += green&#40;c&#41;; <br> } <br> &nbsp;<br> float total_colour = total_red + total_blue + total_green; <br> &nbsp;<br> print&#40;&quot;Percentage Red&#58; &nbsp; &quot;+total_red&#47;total_colour*100+&quot; %&#92;n&quot;&#41;; <br> print&#40;&quot;Percentage Blue&#58; &nbsp;&quot;+total_blue&#47;total_colour*100+&quot; %&#92;n&quot;&#41;; <br> print&#40;&quot;Percentage Green&#58; &quot;+total_green&#47;total_colour*100+&quot; %&#92;n&quot;&#41;; <br>  </font></td></tr></table></td></tr></table> <br> &nbsp;<br> Heres a simplish way of getting towards what you wanted. It adds up the total amount of red/green/blue, and then divides by the total amount of colour... I'm sure with a bit of work you could modify it to list individual colours. <br> &nbsp;<br> Whats your problems with Arrays? All the information on them is in the Reference manual. <br> &nbsp;<br> Regards, <br> - Markavian 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="2"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>try, try ,try</b><BR>
                &#171; <B>Reply #2 on:</B> Jun 10<sup>th</sup>, 2004, 4:20pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            yo Markavian, <br> &nbsp;<br> your code looks like it will help me further, thx. <br> &nbsp;<br> my problem with arrays is basically that i haven't used them up to now. the reference manual tells me all i have to know, now i just have to hang in there, experiment, and develop an arrayian way of thinking. &nbsp;<br> the problem there is that i haven't really got a lot of time to spare, since it's the end of semester and projects have to be finished, documentations written and presentations prepared. and none of my teachers can or wants to help me with problems regarding p5. <br> &nbsp;<br> but hey, nobody said it was gonna be easy. <br> &nbsp;<br> thanks again, <br> Greg <br> &nbsp;<br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="3"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #3 on:</B> Jun 11<sup>th</sup>, 2004, 3:39pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            hey again, <br> &nbsp;<br> i used Markavians script and have extensively messed with it. now i have a script which calculates the percentage of a certain color value in an image IF i tell the script which colors are contained in the image (it's a 16-color gif, so thats easy enough). <br> &nbsp;<br> what i want now is a script that first traces down all the different colors and saves them into an array for further processing. <br> &nbsp;<br> i came up with like following, but it doesn't really work: <br> &nbsp;<br> &nbsp;<br> code: <br> &nbsp;<br> // this script (should) work for a gif-image containing 16 colors, just for testing <br> // i don't know yet how many different colors it could manage without the CPU going bananas <br> &nbsp;<br> float[] amount = new float[16]; <br> color[] colors = new color[16]; <br> &nbsp;<br> // &quot;empty&quot; colors[] &nbsp; <br> &nbsp;<br> for(int i=0; i&lt;16; i++) { <br> &nbsp; colors[i] = 0; <br> } <br> &nbsp;<br> BImage b; <br> b = loadImage(&quot;lava16colors.gif&quot;); <br> &nbsp;<br> size(b.width, b.height); <br> image(b, 0, 0); <br> &nbsp;<br> // trace all different colors, this part's the buggy one <br> &nbsp;<br> for(int i=0; i&lt;b.height*b.width; i++) { <br> &nbsp; for(int u=0; u&lt;16; u++) { <br> &nbsp; &nbsp; if(colors[u] == 0) { <br> &nbsp;for(int w=0; w&lt;16; w++) { <br> &nbsp; &nbsp;if (colors[w] != b.pixels[i]) { <br> &nbsp; &nbsp; &nbsp;colors[u] = b.pixels[i]; <br> &nbsp; &nbsp;} <br> &nbsp;} <br> &nbsp; &nbsp; } <br> &nbsp; } <br> } <br> &nbsp;<br> // calculate amount <br> &nbsp;<br> for(int i=0; i&lt;b.height*b.width; i++) { <br> &nbsp; for(int v=0; v&lt;16; v++) { <br> &nbsp; &nbsp; if(colors[v] == b.pixels[i]) { <br> &nbsp;float a = amount[v]; <br> &nbsp;a++; <br> &nbsp;amount[v] = a; <br> &nbsp; &nbsp; } <br> &nbsp; } <br> } <br> &nbsp;<br> // display results <br> &nbsp;<br> for(int v=0; v&lt;16; v++) { <br> &nbsp; print(red(colors[v])); <br> &nbsp; print(green(colors[v])); <br> &nbsp; print(blue(colors[v])); <br> &nbsp; println(&quot; &nbsp;percentage:&quot; +amount[v]/480000*100+ &quot; %&quot;); <br> } <br> &nbsp;<br> anyone know what the problem might be? <br> &nbsp;<br> yeah, i know the code ain't as sexy as could be, but then remember i'm a newbie <img border=0 src="public_html/YaBBImages/smiley.gif"> . <br> &nbsp;<br> another thing: how can i set the code to be displayed like in Markavians post? Something like &lt;code&gt;&lt;/code&gt;? <br> &nbsp;<br> thx, <br> Greg 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="4"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>mattgilbert</b><br><BR><a href="aim:goim?screenname=tangramkid&message=Hi.+Are+you+there?"><img src="public_html/YaBBImages/aim.gif" alt="tangramkid" border="0"></a>
             <a href="http://www.mattgilbert.net/soundStrandGenerator/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #4 on:</B> Jun 11<sup>th</sup>, 2004, 10:05pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Hi Greg, <br> &nbsp;<br> I handled a similar problem not long ago, so it was easy to combine my code and yours to show you how I did it. <br> &nbsp;<br> This code should do what you want. It's not as long as it looks; I just put lots of comments in. Hopefully they make sense. <img border=0 src="public_html/YaBBImages/smiley.gif"> But I haven't tested it, so don't be surprised if there are typos or anything. <br> &nbsp;<br> In my code, I cycle through pixels[] finding the colors and keeping track of their amounts at the same time. If the pixel's color hasn't been found before, I start keeping track of it, and if it has been found before, I add 1 to that color's amount. <br> &nbsp;<br> <B>on Jun 11<sup>th</sup>, 2004, 3:39pm, <a href="board_Programs_action_display_num_1086857409.html#3">dek  wrote</a>:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td width="100%"><table cellpadding="2" cellspacing="0" class="quote" width="100%"><tr><td width="100%"><font face="Arial,Helvetica" class="quote" size="1"> <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> &nbsp;<br> &#47;&#47; this script &#40;should&#41; work for a gif&#45;image containing 16 colors, just for testing <br> &#47;&#47; i don't know yet how many different colors it could manage without the CPU going bananas <br> &nbsp;<br> float&#91;&#93; amount = new float&#91;16&#93;; <br> color&#91;&#93; colors = new color&#91;16&#93;; <br> &nbsp;<br> &#47;&#47; &quot;empty&quot; colors&#91;&#93; &nbsp; <br> &nbsp;<br> for&#40;int i=0; i&lt;16; i++&#41; { <br> &nbsp; colors&#91;i&#93; = 0; <br> } <br> &nbsp;<br> BImage b; <br> b = loadImage&#40;&quot;lava16colors&#46;gif&quot;&#41;; <br> &nbsp;<br> size&#40;b&#46;width, b&#46;height&#41;; <br> image&#40;b, 0, 0&#41;; <br> &nbsp;<br> &#47;&#47; MATT&#58; <br> &#47;&#47; here's my replacement for the color finding and &nbsp;<br> &#47;&#47; amount counting parts of your code&#46; this code &nbsp;<br> &#47;&#47; should do both&#46; <br> &nbsp;<br> for&#40;int i=0; i&lt;b&#46;pixels&#46;length; i++&#41; { <br> &nbsp; &#47;&#47;the foundBefore variable will tell us whether or <br> &nbsp; &#47;&#47;not we've found the current pixel's color in colors&#91;&#93; yet&#46; <br> &nbsp; boolean foundBefore = false; <br> &nbsp;<br> &nbsp; &#47;&#47;cycle through colors&#91;&#93; <br> &nbsp; for&#40;int u=0; u&lt;16; u++&#41; { <br> &nbsp;<br> &nbsp; &nbsp; &#47;&#47;only check if we haven't found the pixel's <br> &nbsp; &nbsp; &#47;&#47;color in colors&#91;&#93; yet&#46; Otherwise, do nothing&#46; <br> &nbsp; &nbsp; if&#40;&#33;foundBefore&#41;{ &nbsp; &nbsp; <br> &nbsp;<br> &nbsp;&#47;&#47;if the colors&#91;u&#93; element is zero, then <br> &nbsp;&#47;&#47;we must not have found the color yet&#46; We can <br> &nbsp;&#47;&#47;use colors&#91;u&#93; to store the color of b&#46;pixel&#91;i&#93; <br> &nbsp;&#47;&#47;and start keeping track of the amount in <br> &nbsp;&#47;&#47;amount&#91;u&#93;&#46; Also, we need to set foundBefore to true <br> &nbsp;&#47;&#47;so we don't check anymore&#46; <br> &nbsp;if&#40;colors&#91;u&#93; == 0&#41; { <br> &nbsp; &nbsp;colors&#91;u&#93; = b&#46;pixels&#91;i&#93;; <br> &nbsp; &nbsp;amount&#91;u&#93; = 1; <br> &nbsp; &nbsp;foundBefore = true; <br> &nbsp;} &nbsp;<br> &nbsp;<br> &nbsp;&#47;&#47;if the colors&#91;u&#93; element matches the color of &nbsp;<br> &nbsp;&#47;&#47;b&#46;pixels&#91;i&#93;, then we have found this color &nbsp;<br> &nbsp;&#47;&#47;before, and we only need to add one to the amount <br> &nbsp;&#47;&#47;and set foundBefore to true&#46; <br> &nbsp;else if&#40;colors&#91;u&#93; == b&#46;pixels&#91;i&#93;&#41; { <br> &nbsp; &nbsp;amount&#91;u&#93;++; <br> &nbsp; &nbsp;foundBefore = true; <br> &nbsp;} <br> &nbsp;<br> &nbsp;&#47;&#47;if colors&#91;u&#93; isn't zero or the current color, <br> &nbsp;&#47;&#47;then continue the loop and check the next colors&#91;&#93; element&#46; <br> &nbsp; &nbsp; } <br> &nbsp; } <br> } &nbsp;<br> &nbsp;<br> &nbsp;<br> &#47;&#47; display results <br> &#47;&#47; MATT&#58; <br> &#47;&#47; I changed how the percentage is calculated to just <br> &#47;&#47; be 100*amount&#91;v&#93;&#47;b&#46;pixels&#46;length &#46; I'm not sure &nbsp;<br> &#47;&#47; why you had amount&#91;v&#93;&#47;480000*100 &#46; <br> &nbsp;<br> for&#40;int v=0; v&lt;16; v++&#41; { <br> &nbsp; print&#40;red&#40;colors&#91;v&#93;&#41;&#41;; <br> &nbsp; print&#40;green&#40;colors&#91;v&#93;&#41;&#41;; <br> &nbsp; print&#40;blue&#40;colors&#91;v&#93;&#41;&#41;; <br> &nbsp; println&#40;&quot; &nbsp;percentage&#58;&quot; +100*amount&#91;v&#93;&#47;b&#46;pixels&#46;length+ &quot; %&quot;&#41;; <br> } <br>  </font></td></tr></table></td></tr></table> </font></td></tr></table></td></tr></table> <br> &nbsp;<br> To do the code thing in the message board, use [ code ] at the beginning and [ / code ] at the end of your code, except without the spaces. <br> &nbsp;<br> Hope that helps. <br> &nbsp;<br> Matt <br> &nbsp;<br> &nbsp;<br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="5"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #5 on:</B> Jun 11<sup>th</sup>, 2004, 10:42pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            hey Matt, <br> &nbsp;<br> wow, that's more than i could have wished for. works perfect. &nbsp;<br> &nbsp;<br> 480000 is the total amount of pixels (my gif is 800x600), and yeah, it's rather confusing if one doesn't know. shows i should try to keep my code more general. <br> &nbsp;<br> now for the code thing: <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> print&#40;&quot;hello world&quot;&#41; <br>  </font></td></tr></table></td></tr></table> <br> &nbsp;<br> it works! <br> &nbsp;<br> &nbsp;<br> muchos gracias, <br> Greg 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="6"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #6 on:</B> Jun 14<sup>th</sup>, 2004, 11:43pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            me. again. <br> &nbsp;<br> so far i've got the program to calculate the colors and amounts (with a lot of help by Markavian and Matt), but now i want to visualize the results. <br> a really easy way is to have a xyz-grid, where the x-axis is red, the y-axis is green and the z-axis is blue from the according color, a basic rgb-cube. then i draw a box at the according coordinates. the size of the box is determined by the amount of the color. that's simple enough. <br> the whole color-model rotates around a vertical axis. i managed to lay the vertical axis through the y-axis and anywhere parallel to it, but never through the very center of the color-model. &nbsp;<br> my main goal is it to rotate the model around it's center-point, mouse-controlled. but i'll never get that if i don't manage to set the center-point. i've tried various translations and push 'n' pops, but i just don't seem to have the hang of that yet, and i guess the mistake must hide somewhere there. <br> &nbsp;<br> the whole setup runs ok, it's the loop that's causing the headache: <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1"> <br> &nbsp;<br> &#47;&#47; feed the sketch any &#46;gif with a maximum color count of 256&#46; <br> &#47;&#47; all colors are traced and their according amount is calculated&#46; <br> &nbsp;<br> int n = 256; &#47;&#47; number of different colors in the image, important&#33; <br> &nbsp;<br> float a; <br> float&#91;&#93; amount = new float&#91;n&#93;; <br> color&#91;&#93; colors = new color&#91;n&#93;; <br> &nbsp;<br> void setup&#40;&#41; { <br> &nbsp; size&#40;500, 500&#41;; <br> &nbsp;<br> &nbsp; for&#40;int i=0; i&lt;16; i++&#41; { <br> &nbsp; &nbsp; colors&#91;i&#93; = 0; <br> &nbsp; } <br> &nbsp;<br> &nbsp; BImage b; <br> &nbsp; b = loadImage&#40;&quot;lava256colors&#46;gif&quot;&#41;; <br> &nbsp;<br> &nbsp; for&#40;int i=0; i&lt;b&#46;pixels&#46;length; i++&#41; { <br> &nbsp;<br> &nbsp; &nbsp; boolean foundBefore = false; <br> &nbsp; &nbsp; for&#40;int u=0; u&lt;n; u++&#41; { <br> &nbsp;<br> &nbsp;if&#40;&#33;foundBefore&#41;{ <br> &nbsp; &nbsp;if&#40;colors&#91;u&#93; == 0&#41; { <br> &nbsp; &nbsp; &nbsp;colors&#91;u&#93; = b&#46;pixels&#91;i&#93;; <br> &nbsp; &nbsp; &nbsp;amount&#91;u&#93; = 1; <br> &nbsp; &nbsp; &nbsp;foundBefore = true; <br> &nbsp; &nbsp;} else if&#40;colors&#91;u&#93; == b&#46;pixels&#91;i&#93;&#41; { <br> &nbsp; &nbsp; &nbsp;amount&#91;u&#93;++; <br> &nbsp; &nbsp; &nbsp;foundBefore = true; <br> &nbsp; &nbsp;} <br> &nbsp;} <br> &nbsp; &nbsp; } <br> &nbsp; } <br> } <br> &nbsp;<br> void loop&#40;&#41; { <br> &nbsp;<br> &nbsp; background&#40;255&#41;; <br> &nbsp;<br> &#47;&#47; rotate <br> &nbsp;<br> &nbsp; a += 0&#46;05; <br> &nbsp; if&#40;a &gt; TWO_PI&#41; { <br> &nbsp; &nbsp; a = 0&#46;0; <br> &nbsp; } <br> &nbsp;<br> &nbsp; translate&#40;width&#47;2, height&#47;2, 0&#41;; <br> &nbsp; rotateY&#40;a&#41;; <br> &nbsp; &nbsp;<br> &#47;&#47; center rgb&#45;cube&#46; it should&#46; but doesn't&#46; <br> &nbsp;<br> &nbsp; translate&#40;&#45;255&#47;2, &#45;255&#47;2, 255&#47;2&#41;; &#47;&#47; whats wrong&#63; <br> &nbsp; &nbsp;<br> &#47;&#47; draw rgb&#45;cube &nbsp; <br> &nbsp; &nbsp;<br> &nbsp; for&#40;int v=0; v&lt;n; v++&#41; { <br> &nbsp; &nbsp; push&#40;&#41;; <br> &nbsp; &nbsp; if &#40;mousePressed == true&#41; { &nbsp;<br> &nbsp;noFill&#40;&#41;; <br> &nbsp;stroke&#40;red&#40;colors&#91;v&#93;&#41;, green&#40;colors&#91;v&#93;&#41;, blue&#40;colors&#91;v&#93;&#41;&#41;; &#47;&#47; draw wireframe <br> &nbsp; &nbsp; } else { <br> &nbsp;fill&#40;red&#40;colors&#91;v&#93;&#41;, green&#40;colors&#91;v&#93;&#41;, blue&#40;colors&#91;v&#93;&#41;&#41;; &#47;&#47; draw solids <br> &nbsp;noStroke&#40;&#41;; <br> &nbsp; &nbsp; } <br> &nbsp; &nbsp; translate&#40;red&#40;colors&#91;v&#93;&#41;&#47;2, green&#40;colors&#91;v&#93;&#41;&#47;2, blue&#40;colors&#91;v&#93;&#41;&#47;2&#41;; <br> &nbsp; &nbsp; box&#40;amount&#91;v&#93;&#47;500&#41;; <br> &nbsp; &nbsp; pop&#40;&#41;; <br> &nbsp; } <br> } <br>  </font></td></tr></table></td></tr></table> <br> &nbsp;<br> anyone got a hint where i made a wrong turn? <br> &nbsp;<br> tack, <br> Greg 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="7"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>dek</b><br><BR>
    <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: color proportions</b><BR>
                &#171; <B>Reply #7 on:</B> Jun 16<sup>th</sup>, 2004, 2:56pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            ignore my last post, problem solved. 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<!-- THIS IS THE BOTTOM HEADER -->
<table border=0 width="100%" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
    <td>
    <table cellpadding="4" cellspacing="1" border="0" width="100%">
      <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align=right>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table><br>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td align="left" valign="top" colspan="2">
    </td>
    <td valign="top" height="18" align="right">
<form method="post" action="board_Programs_action_display_num_1086857409.html" name="jump">
<select name="values" onChange="if(this.options[this.selectedIndex].value) window.location.href="index.html" + this.options[this.selectedIndex].value;">
<option value="">Forum Jump:</option>
<option value="">-----------------------------</option>
<option value="#Discuss">Discussion</option>
<option value="">-----------------------------</option><option value="?board=Collaboration">&nbsp; - Community, Collaboration, Status</option>
<option value="?board=Events">&nbsp; - Events, Publications, Propaganda</option>
<option value="?board=general">&nbsp; - General Processing Discussion</option>
<option value="">-----------------------------</option>
<option value="#help">Programming Questions & Help</option>
<option value="">-----------------------------</option><option value="?board=Syntax">&nbsp; - Syntax</option>
<option selected value="?board=Programs">=> Programs</option>
<option value="?board=Integrate">&nbsp; - Integration</option>
<option value="">-----------------------------</option>
<option value="#Examples">Topics & Contributions</option>
<option value="">-----------------------------</option><option value="?board=Tools">&nbsp; - Tools</option>
<option value="?board=Contribution_Responsive">&nbsp; - Responsive Form, Games</option>
<option value="?board=Contribution_Info">&nbsp; - Information Visualization</option>
<option value="?board=Contribution_Simlation">&nbsp; - Simulation, Artificial Life</option>
<option value="?board=Contribution_Physical">&nbsp; - Tangible Computing</option>
<option value="?board=Contribution_Automated">&nbsp; - Automated Systems</option>
<option value="?board=Contributions_Audiovisual">&nbsp; - Sound</option>
<option value="?board=VideoCamera">&nbsp; - Video, Camera</option>
<option value="?board=Contributions_Beyond">&nbsp; - Beyond Categories</option>
<option value="">-----------------------------</option>
<option value="#Suggestions">Suggestions</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_Software">&nbsp; - Software Suggestions</option>
<option value="?board=proce55ing_website">&nbsp; - Website, Reference, Example Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Bugs">Bugs</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_software_bugs">&nbsp; - Software Bugs</option>
<option value="?board=Proce55ing_website_bugs">&nbsp; - Website, Reference, Example Bugs</option>
<option value="?board=BugFixes">&nbsp; - Bug Fixes, Implemented Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Teaching">Teaching</option>
<option value="">-----------------------------</option><option value="?board=CourseBlueprints">&nbsp; - Course Blueprints</option>
<option value="?board=TheoryandPractice">&nbsp; - Theory and Practice</option>
</select>
</form></td>
  </tr><tr>
    <td colspan="3" valign="top" align="right">&#171; <a href="board_Programs_action_display_num_1087600927.html">Previous topic</a> | <a href="board_Programs_action_display_num_1087083922.html">Next topic</a> &#187;</td>
  </tr>
</table>
</td>
  </tr>
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55" height="160"></td>
    <td width="695" valign="bottom"><style type="text/css">/*
<a href="index.html"><font size="1">Processing 1.0 _ALPHA_</font></a> &#187; <font size="1">Powered by</font> <a href="http://www.yabbforum.com"><font size="1">YaBB 1 Gold - SP 1.1</font></a><font size="1">!<BR>
YaBB © 2000-2002, </font><a href="http://www.xnull.com"><font size="1">Xnull</font></a><font size="1">. All Rights Reserved.</font>
*/</style></td>
  </tr>
</table>
</body>
</html>
