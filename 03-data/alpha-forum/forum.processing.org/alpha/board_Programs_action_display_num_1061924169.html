<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Processing 1.0 _ALPHA_ - remaping mouse to matrix transformations</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-15">
	<link type="text/css" href="style.css" rel="stylesheet" >
<script language="JavaScript1.2" type="text/javascript">
<!--
if ((navigator.appVersion.substring(0,1) == "5" && navigator.userAgent.indexOf('Gecko') != -1) || navigator.userAgent.search(/Opera/) != -1) {
   document.write('<META HTTP-EQUIV="pragma" CONTENT="no-cache">');
}
// -->
</script>
</head>

<body text="#000000" bgcolor="#FFFFFF" link="#CC6600" vlink="#CC6600" alink="#CC6600" leftmargin="0" topmargin="0" rightmargin="0">
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="550" colspan="2" bgcolor="#000000"> <img src="images/processing.gif" width="500" height="50"></td>
    <td width="180" align="right" valign="top" bgcolor="#000000"> <img src="images/1pix.gif" width="100" height="5"><br>
        <a href="https://forum.processing.org/faq/index.html"><font color="#CC9900">FAQ</font></a> 
    </td>
    <td width="20" bgcolor="#000000"><img src="images/nav_topright.gif" width="20" height="50"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55" bgcolor="#996600" valign="top"><img src="images/nav_midleft.gif" width="55" height="25"></td>
    <td width="675" valign="top" rowspan="2"> 
      <table width="675" valign="top" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td height="25" bgcolor="#996600"><a href="http://processing.org/"><font color="#FFFFFF">Cover</font></a></td>
		<td height="25" bgcolor="#996600"><div id="menu_right" style="float: right">
			<a href="http://feed.processing.org/">&raquo;Feed</a> &nbsp;
			<a href="http://forum.processing.org/">&raquo;Forum</a> &nbsp;
			<a href="http://wiki.processing.org/">&raquo;Wiki</a> &nbsp;
			<a href="http://code.google.com/p/processing">&raquo;Code</a>
		</div></td>
        </tr>

      </table>
    </td>
    <td width="20" bgcolor="#996600" valign="top"></td>
  </tr>
  <tr>
	<td height="25" colspan="3"></td>
  </tr>
</table>
<table width="750" border="0" cellspacing="0" cellpadding="0">
  <tr> 
    <td width="55"><img src="images/1pix.gif" width="1" height="25"></td>
    <td width="695"> </td>
  </tr>
  <tr>
    <td><img src="images/1pix.gif" width="55" height="1"></td>
    <td align="left" valign="top"><b>
		This is the archive Discourse for the Processing (ALPHA) software. <br />
		Please visit the <a href="http://forum.processing.org/">new Processing forum</a> for current information.
		<br />
		<br />
		</b>
	</td>
  </tr>
  <tr> 
    <td><img src="images/1pix.gif" width="55" height="45"></td>
  </tr>
</table>
<!--#echo banner=""--> 
<table width="750" align="left" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55"></td>
    <td width="695">
<script language="JavaScript1.2" src="public_html/ubbc.js" type="text/javascript"></script>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td valign=bottom colspan="2"><font class="nav"><B>
    <img src="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="index.html" class="nav">Processing 1.0 _ALPHA_</a><br>
    <img src="public_html/YaBBImages/tline.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs_action_display_num_1061924169.html#help" class="nav">Programming Questions & Help
</a><br>
    <img src="public_html/YaBBImages/tline2.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    <a href="board_Programs.html" class="nav">Programs</a> </b>(Moderators: fry, REAS)<b><br>
    <img SRC="public_html/YaBBImages/tline3.gif" border="0" alt=""><IMG SRC="public_html/YaBBImages/open.gif" border="0" alt="">&nbsp;&nbsp;
    remaping mouse to matrix transformations</b></font></td>
    <td valign="bottom" align="right">&#171; <a href="board_Programs_action_display_num_1062716453.html">Previous topic</a> | <a href="board_Programs_action_display_num_1060879468.html">Next topic</a> &#187;</td>
  </tr>
</table>
<BR>
<!-- THIS IS THE TOP HEADER OF THE CATEGORY -->
<table border="0" width="100%" cellspacing="1" cellpadding="4" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align="right">
            </td>
          </tr>
        </table>
  </tr>
</table>
<!-- THIS IS THE BOARD AUTHOR HEADER -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="1" border="0" width="100%">
      <tr>
        <td valign="middle" align="left" width="20%" bgcolor="#999966" class="titlebg">
        <font class="text1" color="#FFFFFF">&nbsp;<img src="public_html/YaBBImages/thread.gif" alt="">
        &nbsp;<b>Author</b></font></td>
        <td valign="middle" align="left" bgcolor="#999966" class="titlebg" width="80%">
        <font class="text1" color="#FFFFFF"><b>&nbsp;Topic: remaping mouse to matrix transformations</b> &nbsp;(Read 1134 times)</font></td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<a name="0"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>remaping mouse to matrix transformations</b><BR>
                &#171; <B> on:</B> Aug 26<sup>th</sup>, 2003, 8:56pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            I've taken the 'handles' example from the 'examples/GUI' folder, and added one line at top of loop(): <br> &nbsp;<br> &nbsp; &nbsp;rotate(PI/4); <br> &nbsp;<br> (see the code here: <a href="http://pitaru.com/processing/handles_rotate" target="_blank">http://pitaru.com/processing/handles_rotate</a> ) <br> &nbsp;<br> My question - How do i remap the mouse to properly interact with the sliders? 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="1"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>benelek</b><br><BR><a href="board_Programs_action_icqpager_UIN_3516098.html" target="_blank"><img src="http://web.icq.com/whitepages/online?icq=3516098&img=5" alt="3516098" border="0"></a><a href="http://wwp.icq.com/scripts/search.dll?to=3516098" target="_blank"><img src="public_html/YaBBImages/icqadd.gif" alt="3516098" BORDER=0></a>
             <a href="http://www.benelek.cjb.net" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #1 on:</B> Aug 27<sup>th</sup>, 2003, 8:14am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            you can use objectX and screenX, etc, to determine the real-screen position of the handles, as opposed to their coordinate positions on the matrix. 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="2"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #2 on:</B> Aug 27<sup>th</sup>, 2003, 2:53pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Yep, it would seem that simple, but i just can't get it to work. Once you have the rotated handle coordinates, there's still the issue of making the handles follow the unrotated screen mouse coordinates. How do i find out where the mouseX/Y are on the transformed coordiantes? &nbsp;<br> &nbsp;<br> what am i missing here? <br> Is this much simpler than I'm making it to be? 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="3"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>toxi</b><br><BR>
     <a href="http://toxi.co.uk/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #3 on:</B> Aug 27<sup>th</sup>, 2003, 4:00pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            hey amit, <br> &nbsp;<br> the reason why this still doesn't work is because the example is hardcoded to only use the absolute horizontal mouse position for the sliders. <br> &nbsp;<br> to get this working aligned to any arbitrary axis/orientation we need to use both mouseX and mouseY and change the slider value relative to how much the mouse has moved in meantime. <br> &nbsp;<br> here's the fixed version, the changes are commented and are in the update() and overRect() functions: <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1">&#47;&#47; Handles <br> &#47;&#47; by REAS &lt;http&#58;&#47;&#47;www&#46;groupc&#46;net&gt; <br> &nbsp;<br> &#47;&#47; Click and drag the white boxes to change their position&#46; <br> &nbsp;<br> &#47;&#47; Created 10 February 2003 <br> &nbsp;<br> Handle&#91;&#93; handles; <br> int num; <br> &nbsp;<br> void setup&#40;&#41; <br> { <br> &nbsp; size&#40;200, 200&#41;; <br> &nbsp; background&#40;153&#41;; <br> &nbsp; num = height&#47;15; <br> &nbsp; handles = new Handle&#91;num&#93;; <br> &nbsp; int hsize = 10; <br> &nbsp; for&#40;int i=0; i&lt;num; i++&#41; { <br> &nbsp; &nbsp; handles&#91;i&#93; = new Handle&#40;width&#47;2, 10+i*15, 50&#45;hsize&#47;2, 10, handles&#41;; <br> &nbsp; } <br> } <br> &nbsp;<br> void loop&#40;&#41; <br> { <br> rotate&#40;PI&#47;4&#41;; <br> &nbsp; for&#40;int i=0; i&lt;num; i++&#41; { <br> &nbsp; &nbsp; handles&#91;i&#93;&#46;update&#40;&#41;; <br> &nbsp; &nbsp; handles&#91;i&#93;&#46;display&#40;&#41;; <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; fill&#40;0&#41;; <br> &nbsp; rect&#40;0, 0, width&#47;2, height&#41;; <br> } <br> &nbsp;<br> void mouseReleased&#40;&#41; &nbsp;<br> { <br> &nbsp; for&#40;int i=0; i&lt;num; i++&#41; { <br> &nbsp; &nbsp; handles&#91;i&#93;&#46;release&#40;&#41;; <br> &nbsp; } <br> } <br> &nbsp;<br> class Handle <br> { <br> &nbsp; int x, y; <br> &nbsp; int boxx, boxy; <br> &nbsp; int length; <br> &nbsp; int size; <br> &nbsp; boolean over; <br> &nbsp; boolean press; <br> &nbsp; boolean locked = false; <br> &nbsp; boolean otherslocked = false; <br> &nbsp; Handle&#91;&#93; others; <br> &nbsp; &nbsp;<br> &nbsp; Handle&#40;int _x, int _y, int _l, int _s, Handle&#91;&#93; o&#41; <br> &nbsp; { <br> &nbsp; &nbsp; x = _x; <br> &nbsp; &nbsp; y = _y; <br> &nbsp; &nbsp; length = _l; <br> &nbsp; &nbsp; size = _s; <br> &nbsp; &nbsp; boxx = x+length &#45; size&#47;2; <br> &nbsp; &nbsp; boxy = y &#45; size&#47;2; <br> &nbsp; &nbsp; others = o; <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; void update&#40;&#41; &nbsp;<br> &nbsp; { <br> &nbsp; &nbsp; boxx = x+length; <br> &nbsp; &nbsp; boxy = y &#45; size&#47;2; <br> &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; for&#40;int i=0; i&lt;others&#46;length; i++&#41; { <br> &nbsp;if&#40;others&#91;i&#93;&#46;locked == true&#41; { <br> &nbsp; &nbsp;otherslocked = true; <br> &nbsp; &nbsp;break; <br> &nbsp;} else { <br> &nbsp; &nbsp;otherslocked = false; <br> &nbsp;} &nbsp; <br> &nbsp; &nbsp; } <br> &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; if&#40;otherslocked == false&#41; { <br> &nbsp;over&#40;&#41;; <br> &nbsp;press&#40;&#41;; <br> &nbsp; &nbsp; } <br> &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &#47;&#47; this code block now uses X&#47;Y changes <br> &nbsp; &nbsp; &#47;&#47; instead of absolute coordinates <br> &nbsp; &nbsp; if&#40;press&#41; { <br> &nbsp;length = lock&#40;length+&#40;int&#41;&#40;mouseX&#45;pmouseX&#41;+&#40;mouseY&#45;pmouseY&#41;, 0, width&#47;2&#45;size&#45;1&#41;; <br> &nbsp; &nbsp; } <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; void over&#40;&#41; <br> &nbsp; { <br> &nbsp; &nbsp; over=overRect&#40;boxx, boxy, size, size&#41;; <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; void press&#40;&#41; <br> &nbsp; { <br> &nbsp; &nbsp; if&#40;over &amp;&amp; mousePressed &#124;&#124; locked&#41; { <br> &nbsp;press = true; <br> &nbsp;locked = true; <br> &nbsp; &nbsp; } else { <br> &nbsp;press = false; <br> &nbsp; &nbsp; } <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; void release&#40;&#41; <br> &nbsp; { <br> &nbsp; &nbsp; locked = false; <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; void display&#40;&#41; &nbsp;<br> &nbsp; { <br> &nbsp; &nbsp; line&#40;x, y, x+length, y&#41;; <br> &nbsp; &nbsp; fill&#40;255&#41;; <br> &nbsp; &nbsp; stroke&#40;0&#41;; <br> &nbsp; &nbsp; rect&#40;boxx, boxy, size, size&#41;; <br> &nbsp; &nbsp; if&#40;over &#124;&#124; press&#41; { <br> &nbsp;line&#40;boxx, boxy, boxx+size, boxy+size&#41;; <br> &nbsp;line&#40;boxx, boxy+size, boxx+size, boxy&#41;; <br> &nbsp; &nbsp; } <br> &nbsp;<br> &nbsp; } <br> } <br> &nbsp;<br> &#47;&#47; new rollover function takes any matrix transformations into account <br> boolean overRect&#40;int x, int y, int w, int h&#41; &nbsp;<br> { <br> &nbsp; float sx=screenX&#40;x+w&#47;2,y+h&#47;2,0&#41;; <br> &nbsp; float sy=screenY&#40;x+w&#47;2,y+h&#47;2,0&#41;; <br> &nbsp; return &#40;mouseX&gt;=sx&#45;w&#47;2 &amp;&amp; mouseX&lt;=sx+w&#47;2 &amp;&amp; mouseY&gt;=sy&#45;h&#47;2 &amp;&amp; mouseY&lt;=sy+h&#47;2&#41;; <br> } <br> &nbsp;<br> int lock&#40;int val, int minv, int maxv&#41; &nbsp;<br> { &nbsp;<br> &nbsp; return &nbsp;min&#40;max&#40;val, minv&#41;, maxv&#41;; &nbsp;<br> }  </font></td></tr></table></td></tr></table> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr"><a href="http://toxi.co.uk/" target="_blank">http://toxi.co.uk/</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="4"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #4 on:</B> Aug 27<sup>th</sup>, 2003, 4:34pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Thanks toxi, yet i'm still not clear about a couple of things. I wrote this quick example of a movable-button-object to make the subject more generic for everyone. The questions are in the code, marked out... <br> &nbsp;<br> &nbsp;<br> // code.. <br> &nbsp;<br> &nbsp;<br> btn b1; <br> &nbsp;<br> void setup(){ <br> &nbsp; size(200,200); <br> &nbsp; background(255); <br> &nbsp; smooth(); <br> &nbsp; noStroke(); <br> &nbsp;<br> &nbsp; b1 = new btn(150,150); <br> &nbsp;<br> } <br> &nbsp;<br> void loop(){ <br> &nbsp; translate(100,100); <br> &nbsp; rotateZ(PI/4); <br> &nbsp; translate(-100,-100); <br> &nbsp; b1.update(); <br> } <br> &nbsp;<br> class btn { <br> &nbsp;<br> &nbsp; int x,y; <br> &nbsp; int wh = 10; <br> &nbsp; boolean drag = false; <br> &nbsp;<br> &nbsp; public btn(int _x, int _y){ <br> &nbsp; &nbsp; x = _x; <br> &nbsp; &nbsp; y = _y; <br> &nbsp; } <br> &nbsp;<br> &nbsp; void update(){ <br> &nbsp; &nbsp;<br> //////////////////////////////////////////////////////////////////////// ///////////////////// <br> // Rollover - taking matrix into account ( i'm using object instead of screen... is this ok?) <br> //////////////////////////////////////////////////////////////////////// ///////////////////// <br> &nbsp; &nbsp; float xo = objectX(x,y,0); <br> &nbsp; &nbsp; float yo = objectY(x,y,0); <br> &nbsp; &nbsp; if (mouseX &gt; xo- wh/2 &nbsp;&amp;&amp; mouseX &lt; xo+wh- wh/2 &amp;&amp; mouseY &gt; yo- wh/2 &amp;&amp; mouseY &lt; yo+wh- wh/2){ <br> &nbsp;fill(0,255,0); <br> &nbsp;if (mousePressed){ <br> &nbsp; &nbsp;drag = true; <br> &nbsp;} <br> &nbsp; &nbsp; } else { <br> &nbsp; &nbsp; &nbsp;fill(255,0,0); <br> &nbsp; &nbsp; } <br> &nbsp;<br> &nbsp; &nbsp; if (drag){ <br> &nbsp;fill(0,255,0); <br> &nbsp;<br> ///////////////////////////////////////////////////// <br> // so .. what do we do here? (Obviously not this ...) <br> ///////////////////////////////////////////////////// <br> &nbsp;x += mouseX - pmouseX ; <br> &nbsp;y += mouseY - pmouseY ; <br> &nbsp; &nbsp; <br> &nbsp; &nbsp; &nbsp;<br> &nbsp;if( !mousePressed){ <br> &nbsp; &nbsp;drag = false; <br> &nbsp;} <br> &nbsp; &nbsp; } &nbsp;<br> &nbsp;<br> &nbsp; &nbsp; rectMode(CENTER_DIAMETER); <br> &nbsp; &nbsp; rect(x,y,wh,wh); <br> &nbsp; } <br> &nbsp;<br> } <br> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="5"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>toxi</b><br><BR>
     <a href="http://toxi.co.uk/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #5 on:</B> Aug 27<sup>th</sup>, 2003, 5:06pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            hmm.. i don't think i'm following now <img border=0 src="public_html/YaBBImages/wink.gif"> the only thing i could see which is wrong is your use of objectX() instead of screenX() etc. as you don't want the world-space coordinates, but the projected on-screen values. <br> &nbsp;<br> but apart from that, what do *you* see wrong with it? the behaviour caused by the 45 degree Z rotation seems correct to my eyes, also if slightly unintuitive... try to use a X rotation instead, it's more clear. 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr"><a href="http://toxi.co.uk/" target="_blank">http://toxi.co.uk/</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="6"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #6 on:</B> Aug 27<sup>th</sup>, 2003, 6:07pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Thanks man, lets take a step back - <br> &nbsp;<br> what i see wrong with it is the unintuitive interaction that the rotation is causing. i want to eliminate the behaviour caused by the 45 degree Z rotation (the user should not care if the entire environment is rotated). <br> &nbsp;<br> &nbsp;<br> In other words: <br> &nbsp;<br> I want the user to be able to drag 2D objects in a transformed (translate/rotate..) environment, as if they are not transformed at all. In my example above, the user cannot drag the object in a predictable manner, as the object does not 'stay under the cursor' during the dragging. &nbsp; <br> &nbsp; <br> <img border=0 src="public_html/YaBBImages/smiley.gif"> thanks for staying with me on this <img border=0 src="public_html/YaBBImages/smiley.gif"> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="7"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>skloopy</b><br><BR>
     <a href="http://elfman.vendetta.com/ryan" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #7 on:</B> Aug 27<sup>th</sup>, 2003, 10:02pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            Is there some way to multiply the mouseX and Y by the current transform matrix? If you could do that you could find out where the mouse is in the rotated coordinates and then move the square there... <br> &nbsp;<br> Update: Oops you already thought of that.. I'm curious how to do that too <img border=0 src="public_html/YaBBImages/wink.gif"> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Aug 27<sup>th</sup>, 2003, 10:04pm by skloopy</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="8"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>toxi</b><br><BR>
     <a href="http://toxi.co.uk/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #8 on:</B> Aug 28<sup>th</sup>, 2003, 3:11pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            ok, gotcha mister! <img border=0 src="public_html/YaBBImages/smiley.gif"> <br> &nbsp;<br> as i'm not this fluent in matrix algebra myself, it took me a bit of thinking/researching how to reverse a current transformation in order to map screen space mouse coordinates into the transformed object space. the solution to all this is to temporarily invert bagel's current transform matrix. however this function is not yet &quot;built in&quot;, something i hope will change in future as it's very, very helpful for loads of other cases... <br> &nbsp;<br> below is the latest version. to prove this all works, i'm now using a constantly changing rotation offset and your rectangle still sticks to your mouse... <br> &nbsp;<br> hope *that* solves your problem! <img border=0 src="public_html/YaBBImages/smiley.gif"> <br> &nbsp;<br>  <B>Code:</B><table bgcolor="#FFFFFF" class="bordercolor" cellspacing="1" width="90%"><tr><td><table cellpadding="2" cellspacing="0" class="code" width="100%"><tr><td><font face="Courier New" class="code" size="1">btn b1; <br> &nbsp;<br> void setup&#40;&#41;{ <br> &nbsp; size&#40;200,200&#41;; <br> &nbsp; background&#40;255&#41;; <br> &nbsp; noStroke&#40;&#41;; <br> &nbsp;<br> &nbsp; b1 = new btn&#40;150,150&#41;; <br> } <br> &nbsp;<br> void loop&#40;&#41;{ <br> &nbsp; translate&#40;100,100&#41;; <br> &nbsp; rotate&#40;millis&#40;&#41;*0&#46;001&#41;; <br> &nbsp; translate&#40;&#45;100,&#45;100&#41;; <br> &nbsp; b1&#46;update&#40;&#41;; <br> } <br> &nbsp;<br> class btn { <br> &nbsp;<br> &nbsp; int x,y; <br> &nbsp; int wh = 30; <br> &nbsp; boolean drag = false; <br> &nbsp;<br> &nbsp; public btn&#40;int _x, int _y&#41;{ <br> &nbsp; &nbsp; x = _x; <br> &nbsp; &nbsp; y = _y; <br> &nbsp; } <br> &nbsp;<br> &nbsp; void update&#40;&#41;{ <br> &nbsp;<br> &nbsp; &nbsp; float xo = screenX&#40;x,y,0&#41;; <br> &nbsp; &nbsp; float yo = screenY&#40;x,y,0&#41;; <br> &nbsp; &nbsp; if &#40;mouseX &gt; xo&#45; wh&#47;2 &nbsp;&amp;&amp; mouseX &lt; xo+wh&#45; wh&#47;2 &amp;&amp; mouseY &gt; yo&#45; wh&#47;2 &amp;&amp; mouseY &lt; yo+wh&#45; wh&#47;2&#41;{ <br> &nbsp;fill&#40;0,255,0&#41;; <br> &nbsp;if &#40;mousePressed&#41;{ <br> &nbsp; &nbsp;drag = true; <br> &nbsp;} <br> &nbsp; &nbsp; } else { <br> &nbsp;fill&#40;255,0,0&#41;; <br> &nbsp; &nbsp; } <br> &nbsp;<br> &#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; &nbsp;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; <br> &nbsp; &nbsp; &#47;&#47; big changes below&#46;&#46;&#46; <br> &#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; &nbsp;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47;&#47; <br> &nbsp;<br> &nbsp; &nbsp; if &#40;drag&#41;{ <br> &nbsp;fill&#40;255,255,0&#41;; <br> &nbsp; <br> &nbsp;&#47;&#47; save the current transform <br> &nbsp;push&#40;&#41;; <br> &nbsp; <br> &nbsp;&#47;&#47; invert the current transformation <br> &nbsp;&#47;&#47; this should be build into bagel really as this comes in handy for many other cases <br> &nbsp;invmatrix&#40;&#41;; <br> &nbsp; <br> &nbsp;&#47;&#47; get the mouse coordinates transformed into the object space <br> &nbsp;x=&#40;int&#41;objectX&#40;mouseX,mouseY,0&#41;; <br> &nbsp;y=&#40;int&#41;objectY&#40;mouseX,mouseY,0&#41;; <br> &nbsp; <br> &nbsp;&#47;&#47; restore the previous transform before drawing the object <br> &nbsp;pop&#40;&#41;; <br> &nbsp; <br> &nbsp;if&#40; &#33;mousePressed&#41;{ <br> &nbsp; &nbsp;drag = false; <br> &nbsp;} <br> &nbsp; &nbsp; } <br> &nbsp;<br> &nbsp; &nbsp; rectMode&#40;CENTER_DIAMETER&#41;; <br> &nbsp; &nbsp; rect&#40;x,y,wh,wh&#41;; <br> &nbsp; } <br> &nbsp;<br> } <br> &nbsp;<br> &#47;&#47; construct the inverse of a matrix <br> &nbsp;<br> void invmatrix&#40;&#41;{ <br> &nbsp; int i,m,p,b; <br> &nbsp; int pos,p_oid; <br> &nbsp; int p_oid2; <br> &nbsp; int n=4; <br> &nbsp; &nbsp;<br> &nbsp; &#47;&#47; put the current transform on the matrixstack so we can work with an array <br> &nbsp; push&#40;&#41;; <br> &nbsp; &nbsp;<br> &nbsp; &#47;&#47; get the reference to the matrix array in bagel <br> &nbsp; float&#91;&#93; a=g&#46;matrixStack&#91;g&#46;matrixStackDepth&#45;1&#93;; <br> &nbsp;<br> &nbsp; &#47;&#47; do the inversion <br> &nbsp; for&#40;i=0;i&lt;n;i++&#41; { <br> &nbsp; &nbsp; p_oid2=i*n+i; <br> &nbsp; &nbsp; a&#91;p_oid2&#93;=1&#47;a&#91;p_oid2&#93;; <br> &nbsp; &nbsp; for&#40;m=0; m&lt;n; m++&#41; <br> &nbsp; &nbsp; if&#40;m&#33;=i&#41; { <br> &nbsp;p_oid=m*n+i; <br> &nbsp;a&#91;p_oid&#93;=a&#91;p_oid&#93;*a&#91;p_oid2&#93;; <br> &nbsp; &nbsp; } <br> &nbsp;<br> &nbsp; &nbsp; for&#40;m=0; m&lt;n; m++&#41; { <br> &nbsp;for&#40;p=0; p&lt;n; p++&#41; { <br> &nbsp; &nbsp;if&#40;m&#33;=i&#41;{ <br> &nbsp; &nbsp; &nbsp;if&#40;p&#33;=i&#41;{ <br> &nbsp; pos=m*n+p; <br> &nbsp; p_oid=m*n+i; <br> &nbsp; p_oid2=i*n+p; <br> &nbsp; a&#91;pos&#93;=a&#91;pos&#93;&#45;&#40;a&#91;p_oid&#93;*a&#91;p_oid2&#93;&#41;; <br> &nbsp; &nbsp; &nbsp;} <br> &nbsp; &nbsp;} <br> &nbsp;} <br> &nbsp; &nbsp; } <br> &nbsp;<br> &nbsp; &nbsp; p_oid=i*n+i; <br> &nbsp; &nbsp; for&#40;p=0;p&lt;n;p++&#41; <br> &nbsp; &nbsp; if&#40;p&#33;=i&#41;{ <br> &nbsp;pos=i*n+p; <br> &nbsp;a&#91;pos&#93;=&#45;a&#91;p_oid&#93;*a&#91;pos&#93;; <br> &nbsp; &nbsp; } <br> &nbsp; } <br> &nbsp; &nbsp;<br> &nbsp; &#47;&#47; make this inverted transform the current one <br> &nbsp; pop&#40;&#41;; <br> &nbsp; &nbsp;<br> } </font></td></tr></table></td></tr></table> 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left">&#171; <i>Last Edit: Aug 28<sup>th</sup>, 2003, 7:00pm by toxi</i> &#187;</td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr"><a href="http://toxi.co.uk/" target="_blank">http://toxi.co.uk/</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="9"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #9 on:</B> Sep 1<sup>st</sup>, 2003, 3:38pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            brilliant! <br> &nbsp;<br> I think that a simple and useful implementation could be in form of rmouseX/Y (r for remapped?). The method would look something like this... <br> &nbsp;<br> // Return the remapped mouse coordinates <br> int mouseXt(){ <br> &nbsp; // save the current transform <br> &nbsp; push(); <br> &nbsp; // invert the current transformation using integrated code from toxi's god-sent post above. <br> &nbsp; invmatrix(); <br> &nbsp; // get the mouse coordinates transformed into the object space <br> &nbsp; // Note: how do we enhance the code to deal with all types of transfromtion (see next post)? <br> &nbsp; int &nbsp;x=(int)objectX(mouseX,mouseY, 0); <br> &nbsp; // restore the previous transform before drawing the object <br> &nbsp; pop(); <br> &nbsp; return x; <br> } 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="10"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>pitaru</b><br><BR>
             <a href="http://pitaru.com" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #10 on:</B> Sep 1<sup>st</sup>, 2003, 3:41pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            OK, the btn example deals with a rotate() (see loop() of toxi's post). how do we deal with this type of monster? <br> &nbsp;<br> &nbsp; translate(100,100,50); &nbsp;<br> &nbsp; rotateX(millis()*0.001); &nbsp; &nbsp;<br> &nbsp; scale(0.5); <br> &nbsp; translate(-100,-100,50); &nbsp;<br> &nbsp;<br> -a 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="11"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#FFFFFF" class="windowbg2">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg2" bgcolor="#FFFFFF" border="0">
          <tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="20%" rowspan="2">
            <b>toxi</b><br><BR>
     <a href="http://toxi.co.uk/" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a> <BR>

      
            </td>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #11 on:</B> Sep 1<sup>st</sup>, 2003, 11:36pm &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            yeah, i know my solution only works with transforms in the XY plane really as it assumes z=0 at the point when you re-translate the mouse position. if you rotate around the X or Y axis, the Z coordinate is always changing and the re-mapped point will be wrong. have to do more digging for that one, but i remember the same problem exists in shockwave3D. i'm not sure there's a trivial solution to this problem, but what do i know... <img border=0 src="public_html/YaBBImages/wink.gif"> 
            
            </td>
          </tr><tr>
            <td class="windowbg2" bgcolor="#FFFFFF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr"><a href="http://toxi.co.uk/" target="_blank">http://toxi.co.uk/</a>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>
<a name="12"></a>

<!-- THIS IS THE REPEATING MESSAGE TABLE -->
<table cellpadding="0" cellspacing="0" border="0" width="100%" bgcolor="#FFFFFF" class="bordercolor" align="center">
  <tr>
    <td>
    <table cellpadding="3" cellspacing="0" border="0" width="100%">
      <tr>
        <td bgcolor="#D7D7AF" class="windowbg">
        <table width="100%" cellpadding="4" cellspacing="0" class="windowbg" bgcolor="#D7D7AF" border="0">
          <tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="20%" rowspan="2">
            <b>benelek</b><br><BR><a href="board_Programs_action_icqpager_UIN_3516098.html" target="_blank"><img src="http://web.icq.com/whitepages/online?icq=3516098&img=5" alt="3516098" border="0"></a><a href="http://wwp.icq.com/scripts/search.dll?to=3516098" target="_blank"><img src="public_html/YaBBImages/icqadd.gif" alt="3516098" BORDER=0></a>
             <a href="http://www.benelek.cjb.net" target="_blank"><img src="public_html/YaBBImages/www.gif" alt="WWW" border="0"></a>  <img src="public_html/YaBBImages/email.gif" alt="Email" border="0"><BR>

      
            </td>
            <td class="windowbg" bgcolor="#D7D7AF" valign="top" width="80%" height="100%">

            <!-- THIS TABLE CONTAINS THE HEADER FOR EACH MESSAGE -->
            <table width="100%" border="0">
              <tr>
                <td align="left" valign="middle">
                <B>Re: remaping mouse to matrix transformations</b><BR>
                &#171; <B>Reply #12 on:</B> Sep 3<sup>rd</sup>, 2003, 2:05am &#187;</td>
                <td align="right" valign="top" nowrap height="20">
                

 

                </td>
              </tr>
            </table>
            <hr width="100%" size="1" class="hr">
            
            maybe a method which projects the screen coordinates to the transformed X/Y plane would do the job. This obviously privelidges the X/Y plane abover other planes, and assumes that you're still working on the flat z=0 plane, but it may be somewhere to start from. 
            
            </td>
          </tr><tr>
            <td class="windowbg" bgcolor="#D7D7AF" valign="bottom">
            <!-- I REMOVED THE LOGGED STATMENT HERE -->
            <table width="100%" border="0">
              <tr>
                <td align="left"></td>
                <td align="right">&nbsp;</td>
              </tr>
            </table>
            
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table>

<!-- THIS IS THE BOTTOM HEADER -->
<table border=0 width="100%" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF" class="bordercolor">
  <tr>
    <td>
    <table cellpadding="4" cellspacing="1" border="0" width="100%">
      <tr>
        <td align="left" class="catbg" bgcolor="#B0B07E" width="100%">
        <table cellpadding="3" cellspacing="0" width="100%">
          <tr>
            <td><b>Pages:</b> <b>1</b>&nbsp;</td>
            <td class="catbg" bgcolor="#B0B07E" align=right>
            </td>
          </tr>
        </table>
        </td>
      </tr>
    </table>
    </td>
  </tr>
</table><br>
<table border="0" width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td align="left" valign="top" colspan="2">
    </td>
    <td valign="top" height="18" align="right">
<form method="post" action="board_Programs_action_display_num_1061924169.html" name="jump">
<select name="values" onChange="if(this.options[this.selectedIndex].value) window.location.href="index.html" + this.options[this.selectedIndex].value;">
<option value="">Forum Jump:</option>
<option value="">-----------------------------</option>
<option value="#Discuss">Discussion</option>
<option value="">-----------------------------</option><option value="?board=Collaboration">&nbsp; - Community, Collaboration, Status</option>
<option value="?board=Events">&nbsp; - Events, Publications, Propaganda</option>
<option value="?board=general">&nbsp; - General Processing Discussion</option>
<option value="">-----------------------------</option>
<option value="#help">Programming Questions & Help</option>
<option value="">-----------------------------</option><option value="?board=Syntax">&nbsp; - Syntax</option>
<option selected value="?board=Programs">=> Programs</option>
<option value="?board=Integrate">&nbsp; - Integration</option>
<option value="">-----------------------------</option>
<option value="#Examples">Topics & Contributions</option>
<option value="">-----------------------------</option><option value="?board=Tools">&nbsp; - Tools</option>
<option value="?board=Contribution_Responsive">&nbsp; - Responsive Form, Games</option>
<option value="?board=Contribution_Info">&nbsp; - Information Visualization</option>
<option value="?board=Contribution_Simlation">&nbsp; - Simulation, Artificial Life</option>
<option value="?board=Contribution_Physical">&nbsp; - Tangible Computing</option>
<option value="?board=Contribution_Automated">&nbsp; - Automated Systems</option>
<option value="?board=Contributions_Audiovisual">&nbsp; - Sound</option>
<option value="?board=VideoCamera">&nbsp; - Video, Camera</option>
<option value="?board=Contributions_Beyond">&nbsp; - Beyond Categories</option>
<option value="">-----------------------------</option>
<option value="#Suggestions">Suggestions</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_Software">&nbsp; - Software Suggestions</option>
<option value="?board=proce55ing_website">&nbsp; - Website, Reference, Example Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Bugs">Bugs</option>
<option value="">-----------------------------</option><option value="?board=Proce55ing_software_bugs">&nbsp; - Software Bugs</option>
<option value="?board=Proce55ing_website_bugs">&nbsp; - Website, Reference, Example Bugs</option>
<option value="?board=BugFixes">&nbsp; - Bug Fixes, Implemented Suggestions</option>
<option value="">-----------------------------</option>
<option value="#Teaching">Teaching</option>
<option value="">-----------------------------</option><option value="?board=CourseBlueprints">&nbsp; - Course Blueprints</option>
<option value="?board=TheoryandPractice">&nbsp; - Theory and Practice</option>
</select>
</form></td>
  </tr><tr>
    <td colspan="3" valign="top" align="right">&#171; <a href="board_Programs_action_display_num_1062716453.html">Previous topic</a> | <a href="board_Programs_action_display_num_1060879468.html">Next topic</a> &#187;</td>
  </tr>
</table>
</td>
  </tr>
  <tr>
    <td width="55"><img src="public_html/YaBBImages/1pix.gif" width="55" height="160"></td>
    <td width="695" valign="bottom"><style type="text/css">/*
<a href="index.html"><font size="1">Processing 1.0 _ALPHA_</font></a> &#187; <font size="1">Powered by</font> <a href="http://www.yabbforum.com"><font size="1">YaBB 1 Gold - SP 1.1</font></a><font size="1">!<BR>
YaBB  2000-2002, </font><a href="http://www.xnull.com"><font size="1">Xnull</font></a><font size="1">. All Rights Reserved.</font>
*/</style></td>
  </tr>
</table>
</body>
</html>
